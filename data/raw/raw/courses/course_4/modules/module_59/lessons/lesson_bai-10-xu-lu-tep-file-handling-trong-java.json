{
  "title": "BÀI 10 – XỬ LÝ TỆP (FILE HANDLING) TRONG JAVA",
  "created_at": "2025-10-19T13:39:11Z",
  "url": "bai-10-xu-lu-tep-file-handling-trong-java",
  "editing_roles": "teachers",
  "page_id": 228,
  "last_edited_by": {
    "id": 1,
    "anonymous_id": "1",
    "display_name": "admin@gmail.com",
    "avatar_image_url": "http://localhost:3000/images/messages/avatar-50.png",
    "html_url": "http://localhost:3000/courses/4/users/1",
    "pronouns": null
  },
  "published": true,
  "hide_from_students": false,
  "front_page": false,
  "html_url": "http://localhost:3000/courses/4/pages/bai-10-xu-lu-tep-file-handling-trong-java",
  "todo_date": null,
  "publish_at": null,
  "updated_at": "2025-10-19T13:39:28Z",
  "locked_for_user": false,
  "body": "<h1>BÀI 10 – XỬ LÝ TỆP (FILE HANDLING) TRONG JAVA</h1><h2>Mục tiêu học tập</h2><ul><li>Hiểu cơ chế làm việc với tệp trong Java (đọc, ghi, xử lý lỗi).</li><li>Phân biệt các lớp trong gói java.io và java.nio.</li><li>Thực hành đọc/ghi tệp văn bản, tệp nhị phân và sử dụng Buffered Streams để tối ưu hiệu năng.</li><li>Áp dụng Serializable để lưu trữ và khôi phục đối tượng.</li></ul><hr><h2>1. Khái niệm về File trong Java</h2><p>Tệp (File) là phương tiện lưu trữ dữ liệu lâu dài. Java cung cấp API mạnh mẽ trong gói <b>java.io</b> và <b>java.nio</b> để thao tác với tệp.</p><pre><code>import java.io.File; class Test { public static void main(String[] args){ File f = new File(\"data.txt\"); if(f.exists()) System.out.println(\"File tồn tại\"); else System.out.println(\"File không tồn tại\"); } }</code></pre><p>Lớp <code>File</code> đại diện cho đường dẫn (path) đến tệp hoặc thư mục, không đại diện cho dữ liệu bên trong.</p><hr><h2>2. Đọc và ghi tệp văn bản (Character Streams)</h2><p>Dùng các lớp <b>FileReader</b> và <b>FileWriter</b> để xử lý dữ liệu dạng ký tự (text).</p><pre><code>try(FileWriter fw = new FileWriter(\"output.txt\")) { fw.write(\"Hello Java!\\nXin chào!\"); } catch(Exception e){ e.printStackTrace(); }</code></pre><pre><code>try(FileReader fr = new FileReader(\"output.txt\")) { int c; while((c = fr.read()) != -1) System.out.print((char)c); } catch(Exception e){ e.printStackTrace(); }</code></pre><hr><h2>3. Đọc và ghi tệp nhị phân (Byte Streams)</h2><p>Dữ liệu nhị phân (ảnh, âm thanh, file .exe) nên dùng <b>FileInputStream</b> và <b>FileOutputStream</b>.</p><pre><code>try(FileInputStream in = new FileInputStream(\"image.jpg\"); FileOutputStream out = new FileOutputStream(\"copy.jpg\")) { byte[] buffer = new byte[1024]; int len; while((len = in.read(buffer)) != -1) out.write(buffer, 0, len); } catch(Exception e){ e.printStackTrace(); }</code></pre><p>Sử dụng buffer giúp tăng tốc độ đọc/ghi và giảm I/O overhead.</p><hr><h2>4. Buffered Streams</h2><p>BufferedReader/BufferedWriter giúp đọc ghi tệp văn bản hiệu quả hơn.</p><pre><code>try(BufferedReader br = new BufferedReader(new FileReader(\"data.txt\"))) { String line; while((line = br.readLine()) != null) System.out.println(line); }</code></pre><p>Buffered Streams giảm số lần truy cập ổ đĩa bằng cách lưu dữ liệu tạm thời trong bộ nhớ đệm (buffer).</p><hr><h2>5. Serializable – Lưu và khôi phục đối tượng</h2><p>Java hỗ trợ lưu trữ đối tượng bằng cách hiện thực interface <b>Serializable</b>.</p><pre><code>import java.io.*; class Student implements Serializable { String name; int age; Student(String n,int a){ name=n; age=a; } } class Test { public static void main(String[] args){ try(ObjectOutputStream oos = new ObjectOutputStream(new FileOutputStream(\"student.dat\"))) { Student s = new Student(\"An\",20); oos.writeObject(s); } catch(Exception e){ e.printStackTrace(); } } }</code></pre><p>Để đọc lại đối tượng:</p><pre><code>try(ObjectInputStream ois = new ObjectInputStream(new FileInputStream(\"student.dat\"))){ Student s = (Student) ois.readObject(); System.out.println(s.name + \" - \" + s.age); }</code></pre><hr><h2>6. Đọc/Ghi tệp bằng java.nio</h2><p>Gói <b>java.nio.file</b> (New I/O) cung cấp cách làm việc ngắn gọn và hiệu quả hơn.</p><pre><code>import java.nio.file.*; import java.util.*; public class NIOExample { public static void main(String[] args) throws Exception { List lines = Files.readAllLines(Paths.get(\"data.txt\")); for(String line: lines) System.out.println(line); Files.write(Paths.get(\"new.txt\"), Arrays.asList(\"Hello\",\"Java\")); } }</code></pre><hr><h2>7. Xử lý lỗi khi thao tác với tệp</h2><p>Các lỗi phổ biến:</p><ul><li>FileNotFoundException – không tìm thấy tệp.</li><li>IOException – lỗi đọc/ghi dữ liệu.</li><li>SecurityException – quyền truy cập tệp bị hạn chế.</li></ul><hr><h2>8. Thao tác thư mục</h2><pre><code>File dir = new File(\"C:/data\"); if(!dir.exists()) dir.mkdir(); for(File file: dir.listFiles()){ System.out.println(file.getName()); }</code></pre><p>Lớp File cho phép tạo, xóa và liệt kê thư mục con.</p><hr><h2>9. Bài tập nâng cao</h2><ol><li>Viết chương trình sao chép toàn bộ thư mục và nội dung con sang thư mục mới.</li><li>Viết chương trình đọc file CSV, phân tích dữ liệu và tính trung bình theo cột.</li><li>Tạo chương trình ghi log (file.txt) có timestamp mỗi dòng ghi.</li><li>Lưu danh sách sinh viên (đối tượng) vào file nhị phân và đọc lại danh sách đó.</li></ol><hr><h2>Kết luận</h2><p>File Handling là phần quan trọng trong lập trình ứng dụng thực tế. Hiểu và sử dụng đúng các lớp I/O giúp chương trình hoạt động ổn định, tiết kiệm tài nguyên và dễ bảo trì hơn.</p>"
}