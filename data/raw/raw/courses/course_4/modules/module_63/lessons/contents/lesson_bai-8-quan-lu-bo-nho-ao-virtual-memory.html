<h1>ğŸ§© BÃ€I 8 â€“ QUáº¢N LÃ Bá»˜ NHá»š áº¢O (VIRTUAL MEMORY)</h1><h2>ğŸ¯ Má»¥c tiÃªu há»c táº­p</h2><ul><li>Hiá»ƒu khÃ¡i niá»‡m vÃ  vai trÃ² cá»§a bá»™ nhá»› áº£o trong há»‡ Ä‘iá»u hÃ nh hiá»‡n Ä‘áº¡i.</li><li>Náº¯m rÃµ cÆ¡ cháº¿ phÃ¢n trang theo yÃªu cáº§u (Demand Paging) vÃ  cÃ¡c lá»—i trang (Page Fault).</li><li>PhÃ¢n tÃ­ch vÃ  so sÃ¡nh cÃ¡c giáº£i thuáº­t thay tháº¿ trang: FIFO, LRU, Optimal.</li><li>TÃ­nh toÃ¡n hiá»‡u suáº¥t há»‡ thá»‘ng dá»±a trÃªn táº§n suáº¥t lá»—i trang vÃ  thá»i gian truy cáº­p trung bÃ¬nh (EAT).</li></ul><hr><h2>8.1 KHÃI NIá»†M Bá»˜ NHá»š áº¢O</h2><p>Bá»™ nhá»› áº£o (Virtual Memory) lÃ  ká»¹ thuáº­t cho phÃ©p chÆ°Æ¡ng trÃ¬nh cÃ³ thá»ƒ cháº¡y khi kÃ­ch thÆ°á»›c cá»§a nÃ³ lá»›n hÆ¡n dung lÆ°á»£ng bá»™ nhá»› váº­t lÃ½ (RAM). Há»‡ Ä‘iá»u hÃ nh sá»­ dá»¥ng á»• Ä‘Ä©a lÃ m pháº§n má»Ÿ rá»™ng cá»§a RAM (swap space) vÃ  chá»‰ náº¡p nhá»¯ng trang cáº§n thiáº¿t vÃ o bá»™ nhá»› khi cáº§n.</p><p>Lá»£i Ã­ch chÃ­nh:</p><ul><li>Cháº¡y Ä‘Æ°á»£c chÆ°Æ¡ng trÃ¬nh lá»›n hÆ¡n RAM.</li><li>Giáº£m phÃ¢n máº£nh.</li><li>TÄƒng tÃ­nh báº£o máº­t vÃ  cÃ´ láº­p tiáº¿n trÃ¬nh.</li></ul><hr><h2>8.2 PHÃ‚N TRANG THEO YÃŠU Cáº¦U (DEMAND PAGING)</h2><p>Trong ká»¹ thuáº­t nÃ y, chá»‰ nhá»¯ng trang Ä‘Æ°á»£c truy cáº­p má»›i Ä‘Æ°á»£c náº¡p vÃ o bá»™ nhá»›. Náº¿u trang chÆ°a cÃ³ trong RAM â†’ xáº£y ra lá»—i trang (Page Fault).</p><h3>8.2.1 Quy trÃ¬nh xá»­ lÃ½ lá»—i trang</h3><ol><li>CPU phÃ¡t hiá»‡n truy cáº­p trang chÆ°a cÃ³ trong RAM.</li><li>OS tÃ¬m frame trá»‘ng trong RAM.</li><li>Náº¿u khÃ´ng cÃ³ frame trá»‘ng â†’ Ã¡p dá»¥ng thuáº­t toÃ¡n thay tháº¿ trang.</li><li>Náº¡p trang cáº§n thiáº¿t tá»« Ä‘Ä©a vÃ o RAM, cáº­p nháº­t báº£ng trang.</li><li>Tiáº¿p tá»¥c thá»±c thi chÆ°Æ¡ng trÃ¬nh.</li></ol><hr><h2>8.3 Tá»¶ Lá»† Lá»–I TRANG VÃ€ THá»œI GIAN TRUY Cáº¬P TRUNG BÃŒNH (EAT)</h2><p><b>Effective Access Time (EAT)</b> = (1 - p) Ã— Tm + p Ã— Td</p><ul><li><b>Tm:</b> Thá»i gian truy cáº­p bá»™ nhá»› (thÆ°á»ng 100ns).</li><li><b>Td:</b> Thá»i gian phá»¥c há»“i lá»—i trang (vÃ i ms).</li><li><b>p:</b> Tá»· lá»‡ lá»—i trang (page fault rate).</li></ul><p>VÃ­ dá»¥: Náº¿u Tm = 100ns, Td = 10ms, p = 0.001 â†’ EAT = (1 - 0.001) Ã— 100 + 0.001 Ã— 10,000,000 = 10,099ns â‰ˆ 10.1Âµs.</p><hr><h2>8.4 CÃC GIáº¢I THUáº¬T THAY THáº¾ TRANG</h2><h3>8.4.1 FIFO (First-In, First-Out)</h3><p>Trang vÃ o trÆ°á»›c bá»‹ thay tháº¿ trÆ°á»›c. ÄÆ¡n giáº£n nhÆ°ng cÃ³ thá»ƒ gáº·p <b>Beladyâ€™s Anomaly</b> â€“ thÃªm frame nhÆ°ng sá»‘ lá»—i trang tÄƒng.</p><h3>8.4.2 OPTIMAL (Tá»‘i Æ°u)</h3><p>Thay trang sáº½ Ä‘Æ°á»£c sá»­ dá»¥ng xa nháº¥t trong tÆ°Æ¡ng lai. ÄÃ¢y lÃ  giáº£i thuáº­t lÃ½ tÆ°á»Ÿng, dÃ¹ng lÃ m chuáº©n so sÃ¡nh.</p><h3>8.4.3 LRU (Least Recently Used)</h3><p>Thay trang Ã­t Ä‘Æ°á»£c sá»­ dá»¥ng gáº§n Ä‘Ã¢y nháº¥t. Giáº£ Ä‘á»‹nh ráº±ng cÃ¡c trang Ä‘Æ°á»£c truy cáº­p gáº§n Ä‘Ã¢y sáº½ cÃ²n Ä‘Æ°á»£c dÃ¹ng láº¡i.</p><pre><code>VÃ­ dá»¥: Chuá»—i truy cáº­p trang = [7, 0, 1, 2, 0, 3, 0, 4], Frame = 3 â†’ FIFO lá»—i 6, LRU lá»—i 5, Optimal lá»—i 4</code></pre><h3>8.4.4 CLOCK Algorithm</h3><p>PhiÃªn báº£n cáº£i tiáº¿n cá»§a LRU, má»—i trang cÃ³ bit tham chiáº¿u. Khi bit = 0, trang bá»‹ thay tháº¿.</p><hr><h2>8.5 NGUYÃŠN NHÃ‚N Lá»–I TRANG CAO</h2><ul><li>KÃ­ch thÆ°á»›c frame quÃ¡ nhá».</li><li>KhÃ´ng gian lÃ m viá»‡c (Working Set) cá»§a tiáº¿n trÃ¬nh lá»›n hÆ¡n RAM.</li><li>Thrashing â€“ há»‡ thá»‘ng dÃ nh quÃ¡ nhiá»u thá»i gian Ä‘á»ƒ hoÃ¡n Ä‘á»•i trang thay vÃ¬ thá»±c thi.</li></ul><p>OS theo dÃµi táº­p lÃ m viá»‡c cá»§a má»—i tiáº¿n trÃ¬nh Ä‘á»ƒ Ä‘iá»u chá»‰nh sá»‘ frame há»£p lÃ½.</p><hr><h2>8.6 SWAPPING VÃ€ CACHE</h2><p>Swapping lÃ  cÆ¡ cháº¿ di chuyá»ƒn toÃ n bá»™ tiáº¿n trÃ¬nh ra Ä‘Ä©a, trong khi paging chá»‰ di chuyá»ƒn tá»«ng trang. Há»‡ thá»‘ng thÆ°á»ng káº¿t há»£p cáº£ hai Ä‘á»ƒ tá»‘i Æ°u hiá»‡u nÄƒng.</p><hr><h2>ğŸ§  Tá»•ng káº¿t</h2><ul><li>Bá»™ nhá»› áº£o giÃºp tÄƒng kháº£ nÄƒng cháº¡y Ä‘a tiáº¿n trÃ¬nh, giáº£m phÃ¢n máº£nh vÃ  cÃ´ láº­p lá»—i.</li><li>Demand Paging chá»‰ táº£i trang cáº§n thiáº¿t giÃºp tiáº¿t kiá»‡m RAM.</li><li>LRU vÃ  Optimal lÃ  hai giáº£i thuáº­t thay tháº¿ hiá»‡u quáº£, FIFO Ä‘Æ¡n giáº£n nhÆ°ng cÃ³ thá»ƒ gÃ¢y lá»—i Belady.</li><li>Quáº£n lÃ½ bá»™ nhá»› áº£o áº£nh hÆ°á»Ÿng trá»±c tiáº¿p Ä‘áº¿n hiá»‡u nÄƒng tá»•ng thá»ƒ há»‡ thá»‘ng.</li></ul>