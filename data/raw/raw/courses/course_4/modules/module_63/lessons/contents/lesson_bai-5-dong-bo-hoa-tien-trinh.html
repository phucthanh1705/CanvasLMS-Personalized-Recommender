<h1>ğŸ§© BÃ€I 5 â€“ Äá»’NG Bá»˜ HÃ“A TIáº¾N TRÃŒNH</h1><h2>ğŸ¯ Má»¥c tiÃªu há»c táº­p</h2><ul><li>Hiá»ƒu khÃ¡i niá»‡m tÃ i nguyÃªn gÄƒng vÃ  Ä‘oáº¡n gÄƒng (critical section).</li><li>PhÃ¢n tÃ­ch cÃ¡c yÃªu cáº§u cá»§a bÃ i toÃ¡n Ä‘á»“ng bá»™ vÃ  cÃ¡c giáº£i phÃ¡p pháº§n má»m, pháº§n cá»©ng.</li><li>Náº¯m vá»¯ng cÆ¡ cháº¿ semaphore, monitor, message passing vÃ  cÃ¡c bÃ i toÃ¡n kinh Ä‘iá»ƒn (producerâ€“consumer, readerâ€“writer, dining philosophers).</li><li>Biáº¿t cÃ¡ch láº­p trÃ¬nh vÃ  Ä‘Ã¡nh giÃ¡ hiá»‡u quáº£ cá»§a cÃ¡c giáº£i phÃ¡p Ä‘á»“ng bá»™ hÃ³a.</li></ul><hr><h2>5.1 TÃ€I NGUYÃŠN GÄ‚NG VÃ€ ÄOáº N GÄ‚NG</h2><p><b>TÃ i nguyÃªn gÄƒng</b> lÃ  tÃ i nguyÃªn khÃ´ng thá»ƒ Ä‘Æ°á»£c truy cáº­p Ä‘á»“ng thá»i bá»Ÿi nhiá»u tiáº¿n trÃ¬nh (vÃ­ dá»¥: vÃ¹ng bá»™ nhá»› chung, tá»‡p tin, mÃ¡y in). <b>Äoáº¡n gÄƒng (Critical Section)</b> lÃ  pháº§n mÃ£ mÃ  tiáº¿n trÃ¬nh truy cáº­p tÃ i nguyÃªn gÄƒng.</p><p>Há»‡ Ä‘iá»u hÃ nh cáº§n Ä‘áº£m báº£o ba tÃ­nh cháº¥t cÆ¡ báº£n cho Ä‘á»“ng bá»™ hÃ³a:</p><ul><li><b>TÃ­nh loáº¡i trá»« tÆ°Æ¡ng há»— (Mutual Exclusion):</b> Chá»‰ má»™t tiáº¿n trÃ¬nh Ä‘Æ°á»£c vÃ o Ä‘oáº¡n gÄƒng táº¡i má»™t thá»i Ä‘iá»ƒm.</li><li><b>Tiáº¿n triá»ƒn (Progress):</b> Náº¿u khÃ´ng cÃ³ tiáº¿n trÃ¬nh trong Ä‘oáº¡n gÄƒng, cÃ¡c tiáº¿n trÃ¬nh khÃ¡c pháº£i cÃ³ cÆ¡ há»™i vÃ o.</li><li><b>Giá»›i háº¡n chá» (Bounded Waiting):</b> KhÃ´ng tiáº¿n trÃ¬nh nÃ o pháº£i chá» vÃ´ háº¡n Ä‘á»ƒ vÃ o Ä‘oáº¡n gÄƒng.</li></ul><hr><h2>5.2 GIáº¢I PHÃP PHáº¦N Má»€M</h2><h3>5.2.1 Giáº£i phÃ¡p Peterson</h3><p>LÃ  giáº£i phÃ¡p cá»• Ä‘iá»ƒn cho hai tiáº¿n trÃ¬nh sá»­ dá»¥ng biáº¿n chung <code>turn</code> vÃ  máº£ng <code>flag[2]</code>:</p><pre><code>do { flag[i] = true; turn = j; while (flag[j] &amp;&amp; turn == j); // Ä‘oáº¡n gÄƒng flag[i] = false; // Ä‘oáº¡n cÃ²n láº¡i } while(true);</code></pre><p>Äáº£m báº£o loáº¡i trá»« tÆ°Æ¡ng há»— vÃ  tiáº¿n triá»ƒn, nhÆ°ng chá»‰ Ã¡p dá»¥ng cho 2 tiáº¿n trÃ¬nh.</p><h3>5.2.2 Giáº£i phÃ¡p pháº§n cá»©ng</h3><ul><li><b>Cáº¥m ngáº¯t (Disable Interrupts):</b> DÃ¹ng trong há»‡ thá»‘ng Ä‘Æ¡n CPU, khÃ´ng hiá»‡u quáº£ cho Ä‘a lÃµi.</li><li><b>Chá»‰ thá»‹ TSL (Test-and-Set Lock):</b> Cung cáº¥p bá»Ÿi pháº§n cá»©ng, Ä‘áº£m báº£o thao tÃ¡c kiá»ƒm tra vÃ  Ä‘áº·t khÃ³a lÃ  nguyÃªn tá»­.</li></ul><hr><h2>5.3 SEMAPHORE</h2><p>Semaphore lÃ  biáº¿n Ä‘áº¿m Ä‘Æ°á»£c dÃ¹ng Ä‘á»ƒ kiá»ƒm soÃ¡t truy cáº­p tÃ i nguyÃªn chia sáº».</p><pre><code>wait(S): while (S &lt;= 0); S--; signal(S): S++;</code></pre><p>Hai loáº¡i semaphore:</p><ul><li><b>Counting semaphore:</b> DÃ¹ng cho nhiá»u tÃ i nguyÃªn cÃ¹ng loáº¡i.</li><li><b>Binary semaphore (mutex):</b> Chá»‰ cho phÃ©p má»™t tiáº¿n trÃ¬nh truy cáº­p.</li></ul><hr><h2>5.4 MONITOR</h2><p>Monitor lÃ  cáº¥u trÃºc cáº¥p cao hÆ¡n semaphore, cung cáº¥p tá»± Ä‘á»™ng loáº¡i trá»« tÆ°Æ¡ng há»—. CÃ¡c tiáº¿n trÃ¬nh tÆ°Æ¡ng tÃ¡c qua hÃ m <b>condition.wait()</b> vÃ  <b>condition.signal()</b>.</p><p>VÃ­ dá»¥ pseudo-code:</p><pre><code>monitor Buffer { condition full, empty; procedure insert(x) { if full.wait(); ... } procedure remove() { if empty.wait(); ... } }</code></pre><hr><h2>5.5 TRAO Äá»”I THÃ”NG ÄIá»†P (MESSAGE PASSING)</h2><p>GiÃºp tiáº¿n trÃ¬nh giao tiáº¿p mÃ  khÃ´ng cáº§n chia sáº» bá»™ nhá»›. Dá»¯ liá»‡u truyá»n qua hÃ m <b>send()</b> vÃ  <b>receive()</b>, thÆ°á»ng Ã¡p dá»¥ng cho há»‡ phÃ¢n tÃ¡n.</p><hr><h2>5.6 CÃC BÃ€I TOÃN KINH ÄIá»‚N</h2><h3>5.6.1 BÃ i toÃ¡n nhÃ  sáº£n xuáº¥t â€“ khÃ¡ch hÃ ng (Producerâ€“Consumer)</h3><p>Sá»­ dá»¥ng buffer giá»›i háº¡n vÃ  semaphore:</p><pre><code>Semaphore mutex=1, empty=n, full=0; Producer: wait(empty); wait(mutex); produce(); signal(mutex); signal(full); Consumer: wait(full); wait(mutex); consume(); signal(mutex); signal(empty);</code></pre><h3>5.6.2 BÃ i toÃ¡n Ä‘á»câ€“ghi (Readerâ€“Writer)</h3><p>Äáº£m báº£o nhiá»u reader cÃ³ thá»ƒ Ä‘á»c song song, nhÆ°ng writer pháº£i truy cáº­p Ä‘á»™c quyá»n.</p><h3>5.6.3 BÃ i toÃ¡n triáº¿t gia Äƒn tá»‘i (Dining Philosophers)</h3><p>5 triáº¿t gia chia sáº» 5 chiáº¿c Ä‘Å©a. DÃ¹ng semaphore Ä‘á»ƒ trÃ¡nh deadlock báº±ng viá»‡c giá»›i háº¡n sá»‘ triáº¿t gia Ä‘Æ°á»£c Äƒn cÃ¹ng lÃºc.</p><hr><h2>5.7 Tá»”NG Káº¾T</h2><ul><li>Äá»“ng bá»™ hÃ³a tiáº¿n trÃ¬nh Ä‘áº£m báº£o an toÃ n dá»¯ liá»‡u vÃ  hiá»‡u suáº¥t há»‡ thá»‘ng.</li><li>Semaphore vÃ  Monitor lÃ  hai cÆ¡ cháº¿ máº¡nh máº½ Ä‘á»ƒ kiá»ƒm soÃ¡t truy cáº­p.</li><li>Cáº§n hiá»ƒu sÃ¢u cÃ¡c váº¥n Ä‘á» nhÆ° deadlock, starvation vÃ  fairness khi thiáº¿t káº¿ há»‡ thá»‘ng song song.</li></ul>