{
  "title": "B√ÄI 06 ‚Äì C√ÇY NH·ªä PH√ÇN T√åM KI·∫æM C√ÇN B·∫∞NG (AVL TREE)",
  "created_at": "2025-10-19T10:35:48Z",
  "url": "bai-06-cay-nhi-phan-tim-kiem-can-bang-avl-tree",
  "editing_roles": "teachers",
  "page_id": 213,
  "last_edited_by": {
    "id": 1,
    "anonymous_id": "1",
    "display_name": "admin@gmail.com",
    "avatar_image_url": "http://localhost:3000/images/messages/avatar-50.png",
    "html_url": "http://localhost:3000/courses/4/users/1",
    "pronouns": null
  },
  "published": true,
  "hide_from_students": false,
  "front_page": false,
  "html_url": "http://localhost:3000/courses/4/pages/bai-06-cay-nhi-phan-tim-kiem-can-bang-avl-tree",
  "todo_date": null,
  "publish_at": null,
  "updated_at": "2025-10-19T10:36:06Z",
  "locked_for_user": false,
  "body": "<h1>üß© B√ÄI 06 ‚Äì C√ÇY NH·ªä PH√ÇN T√åM KI·∫æM C√ÇN B·∫∞NG (AVL TREE)</h1><h2>üéØ M·ª•c ti√™u h·ªçc t·∫≠p</h2><ul><li>Hi·ªÉu ƒë∆∞·ª£c kh√°i ni·ªám, ƒë·∫∑c ƒëi·ªÉm v√† nguy√™n l√Ω c√¢n b·∫±ng c·ªßa c√¢y AVL.</li><li>N·∫Øm ƒë∆∞·ª£c c√°c lo·∫°i l·ªách: tr√°i‚Äìtr√°i, tr√°i‚Äìph·∫£i, ph·∫£i‚Äìph·∫£i, ph·∫£i‚Äìtr√°i v√† c√°ch x·ª≠ l√Ω b·∫±ng quay ƒë∆°n/quay k√©p.</li><li>Hi·ªÉu √Ω nghƒ©a ch·ªâ s·ªë c√¢n b·∫±ng (Balance Factor) v√† c√°ch c·∫≠p nh·∫≠t chi·ªÅu cao node.</li><li>C√†i ƒë·∫∑t c√°c h√†m c∆° b·∫£n: insert, remove, findMin, findMax, updateHeight.</li><li>Ph√¢n t√≠ch ƒë·ªô ph·ª©c t·∫°p v√† ·ª©ng d·ª•ng th·ª±c t·∫ø c·ªßa AVL trong h·ªá th·ªëng t√¨m ki·∫øm.</li></ul><hr><h2>1. Kh√°i ni·ªám</h2><p>C√¢y AVL ƒë∆∞·ª£c ph√°t minh nƒÉm 1962 b·ªüi G. M. Adel‚Äôson-Vel‚Äôskil v√† E. M. Landis. ƒê√¢y l√† c√¢y nh·ªã ph√¢n t√¨m ki·∫øm c√¢n b·∫±ng ‚Äì m·ªói node ƒë·∫£m b·∫£o chi·ªÅu cao hai c√¢y con tr√°i v√† ph·∫£i ch√™nh l·ªách kh√¥ng qu√° 1.</p><p>C·∫•u tr√∫c n√†y gi√∫p duy tr√¨ th·ªùi gian t√¨m ki·∫øm, th√™m, x√≥a trung b√¨nh l√† O(log‚ÇÇn), ƒë·∫£m b·∫£o hi·ªáu nƒÉng ·ªïn ƒë·ªãnh h∆°n BST th√¥ng th∆∞·ªùng.</p><hr><h2>2. ƒê·ªãnh nghƒ©a v√† ch·ªâ s·ªë c√¢n b·∫±ng</h2><p><b>ƒê·ªãnh nghƒ©a:</b> M·ªôt c√¢y ƒë∆∞·ª£c g·ªçi l√† c√¢y AVL n·∫øu:</p><ul><li>L√† c√¢y nh·ªã ph√¢n t√¨m ki·∫øm (BST).</li><li>|hL ‚Äì hR| ‚â§ 1 v·ªõi m·ªçi node (hL, hR l√† chi·ªÅu cao c√¢y con tr√°i/ph·∫£i).</li></ul><p><b>Ch·ªâ s·ªë c√¢n b·∫±ng (Balance Factor ‚Äì bF):</b></p><p>bF = hR ‚Äì hL</p><ul><li>bF = 0 ‚Üí c√¢n b·∫±ng (EH: Equal Height)</li><li>bF &gt; 0 ‚Üí l·ªách ph·∫£i (RH: Right Higher)</li><li>bF &lt; 0 ‚Üí l·ªách tr√°i (LH: Left Higher)</li></ul><hr><h2>3. C·∫•u tr√∫c d·ªØ li·ªáu</h2><pre><code>typedef struct AVLNode {  int key;  int height;  AVLNode *pLeft;  AVLNode *pRight;} *AVLTree;</code></pre><p>H√†m c·∫≠p nh·∫≠t chi·ªÅu cao node:</p><pre><code>int height(AVLTree T) {    if (T == NULL) return -1;    return T-&gt;height;}void updateHeight(AVLTree &amp;T) {    if (T == NULL) return;    T-&gt;height = max(height(T-&gt;pLeft), height(T-&gt;pRight)) + 1;}</code></pre><hr><h2>4. C√°c tr∆∞·ªùng h·ª£p m·∫•t c√¢n b·∫±ng</h2><h3>4.1 L·ªách tr√°i ‚Äì tr√°i (LL)</h3><p>X·∫£y ra khi ch√®n v√†o c√¢y con tr√°i c·ªßa c√¢y con tr√°i.</p><pre><code>void singleRightRotate(AVLTree &amp;T) {    if (T-&gt;pLeft != NULL) {        AVLTree u = T-&gt;pLeft;        T-&gt;pLeft = u-&gt;pRight;        u-&gt;pRight = T;        updateHeight(T);        updateHeight(u);        T = u;    }}</code></pre><h3>4.2 L·ªách ph·∫£i ‚Äì ph·∫£i (RR)</h3><p>X·∫£y ra khi ch√®n v√†o c√¢y con ph·∫£i c·ªßa c√¢y con ph·∫£i.</p><pre><code>void singleLeftRotate(AVLTree &amp;T) {    if (T-&gt;pRight != NULL) {        AVLTree u = T-&gt;pRight;        T-&gt;pRight = u-&gt;pLeft;        u-&gt;pLeft = T;        updateHeight(T);        updateHeight(u);        T = u;    }}</code></pre><h3>4.3 L·ªách tr√°i ‚Äì ph·∫£i (LR): quay k√©p ph·∫£i</h3><pre><code>void doubleRightRotate(AVLTree &amp;T) {    singleLeftRotate(T-&gt;pLeft);    singleRightRotate(T);}</code></pre><h3>4.4 L·ªách ph·∫£i ‚Äì tr√°i (RL): quay k√©p tr√°i</h3><pre><code>void doubleLeftRotate(AVLTree &amp;T) {    singleRightRotate(T-&gt;pRight);    singleLeftRotate(T);}</code></pre><hr><h2>5. Th√™m node v√†o c√¢y AVL</h2><pre><code>void insert(AVLTree &amp;T, int x) {    if (T == NULL) {        T = new AVLNode;        T-&gt;key = x;        T-&gt;pLeft = T-&gt;pRight = NULL;        T-&gt;height = 0;    } else if (x &lt; T-&gt;key) {        insert(T-&gt;pLeft, x);        if (height(T-&gt;pLeft) - height(T-&gt;pRight) == 2) {            if (x &lt; T-&gt;pLeft-&gt;key)                singleRightRotate(T);            else                doubleRightRotate(T);        }    } else if (x &gt; T-&gt;key) {        insert(T-&gt;pRight, x);        if (height(T-&gt;pRight) - height(T-&gt;pLeft) == 2) {            if (x &gt; T-&gt;pRight-&gt;key)                singleLeftRotate(T);            else                doubleLeftRotate(T);        }    }    updateHeight(T);}</code></pre><p><b>L∆∞u √Ω:</b> M·ªói l·∫ßn ch√®n c·∫ßn c·∫≠p nh·∫≠t l·∫°i chi·ªÅu cao v√† c√¢n b·∫±ng c√¢y n·∫øu m·∫•t c√¢n b·∫±ng.</p><hr><h2>6. X√≥a node trong AVL</h2><p>Gi·ªëng c√¢y BST nh∆∞ng sau khi x√≥a ph·∫£i ki·ªÉm tra v√† c√¢n b·∫±ng l·∫°i.</p><pre><code>void remove(AVLTree &amp;T, int x) {    if (T == NULL) return;    if (x &lt; T-&gt;key) remove(T-&gt;pLeft, x);    else if (x &gt; T-&gt;key) remove(T-&gt;pRight, x);    else {        AVLTree temp;        if (T-&gt;pLeft != NULL &amp;&amp; T-&gt;pRight != NULL) {            temp = findMin(T-&gt;pRight);            T-&gt;key = temp-&gt;key;            remove(T-&gt;pRight, temp-&gt;key);        } else {            temp = T;            if (T-&gt;pLeft == NULL)                T = T-&gt;pRight;            else                T = T-&gt;pLeft;            delete temp;        }    }    if (T == NULL) return;    updateHeight(T);    if (height(T-&gt;pLeft) - height(T-&gt;pRight) == 2) {        if (height(T-&gt;pLeft-&gt;pLeft) &gt;= height(T-&gt;pLeft-&gt;pRight))            singleRightRotate(T);        else            doubleRightRotate(T);    }    if (height(T-&gt;pRight) - height(T-&gt;pLeft) == 2) {        if (height(T-&gt;pRight-&gt;pRight) &gt;= height(T-&gt;pRight-&gt;pLeft))            singleLeftRotate(T);        else            doubleLeftRotate(T);    }}</code></pre><hr><h2>7. ƒê·ªô ph·ª©c t·∫°p</h2><ul><li>Th√™m, x√≥a, t√¨m ki·∫øm: O(log n)</li><li>Tr∆∞·ªùng h·ª£p x·∫•u nh·∫•t: O(log n) (do AVL lu√¥n c√¢n b·∫±ng)</li><li>Kh√¥ng th·ªÉ suy bi·∫øn th√†nh danh s√°ch nh∆∞ BST.</li></ul><hr><h2>8. ·ª®ng d·ª•ng</h2><ul><li>H·ªá th·ªëng t√¨m ki·∫øm d·ªØ li·ªáu (database index).</li><li>B·ªô nh·ªõ t·ª´ ƒëi·ªÉn (dictionary memory).</li><li>C·∫•u tr√∫c n·ªôi b·ªô trong compiler v√† h·ªá th·ªëng l∆∞u tr·ªØ.</li></ul><hr><h2>‚úÖ T·ªïng k·∫øt</h2><p>AVL Tree ƒë·∫£m b·∫£o m·ªçi thao t√°c t√¨m ki·∫øm, th√™m, x√≥a c√≥ ƒë·ªô ph·ª©c t·∫°p O(log n). Quay c√¢y l√† k·ªπ thu·∫≠t quan tr·ªçng gi√∫p duy tr√¨ c√¢n b·∫±ng v√† t·ªëi ∆∞u hi·ªáu nƒÉng cho c√°c h·ªá th·ªëng d·ªØ li·ªáu l·ªõn.</p>"
}