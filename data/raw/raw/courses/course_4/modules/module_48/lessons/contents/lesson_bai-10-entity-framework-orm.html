<h1>üß© B√ÄI 10 ‚Äì ENTITY FRAMEWORK (ORM)</h1><h2>üéØ M·ª•c ti√™u h·ªçc t·∫≠p</h2><ul>  <li>Hi·ªÉu kh√°i ni·ªám ORM (Object Relational Mapping) v√† vai tr√≤ c·ªßa Entity Framework (EF).</li>  <li>Ph√¢n bi·ªát c√°c m√¥ h√¨nh ph√°t tri·ªÉn trong EF: Code First, Database First, Model First.</li>  <li>Bi·∫øt c√°ch t·∫°o l·ªõp Entity v√† DbContext ƒë·ªÉ √°nh x·∫° d·ªØ li·ªáu.</li>  <li>Th·ª±c h√†nh CRUD (Create, Read, Update, Delete) v·ªõi EF trong ·ª©ng d·ª•ng C#.</li>  <li>S·ª≠ d·ª•ng LINQ-to-Entities ƒë·ªÉ truy v·∫•n d·ªØ li·ªáu.</li></ul><hr><h2>1. Gi·ªõi thi·ªáu ORM v√† Entity Framework</h2><p><b>ORM (Object Relational Mapping)</b> l√† k·ªπ thu·∫≠t √°nh x·∫° gi·ªØa m√¥ h√¨nh h∆∞·ªõng ƒë·ªëi t∆∞·ª£ng (class) v√† c∆° s·ªü d·ªØ li·ªáu quan h·ªá (table).</p><p><b>Entity Framework (EF)</b> l√† ORM do Microsoft ph√°t tri·ªÉn, gi√∫p l·∫≠p tr√¨nh vi√™n l√†m vi·ªác v·ªõi database m√† kh√¥ng c·∫ßn vi·∫øt nhi·ªÅu c√¢u l·ªánh SQL.</p><p>∆Øu ƒëi·ªÉm:</p><ul>  <li>T·ª± ƒë·ªông √°nh x·∫° class ‚Üî table, property ‚Üî column.</li>  <li>H·ªó tr·ª£ truy v·∫•n LINQ-to-Entities m·∫°nh m·∫Ω.</li>  <li>Gi·∫£m boilerplate code (ADO.NET, Command, Connection...).</li>  <li>D·ªÖ m·ªü r·ªông, d·ªÖ b·∫£o tr√¨.</li></ul><hr><h2>2. Ki·∫øn tr√∫c Entity Framework</h2><p>EF g·ªìm c√°c th√†nh ph·∫ßn ch√≠nh:</p><ul>  <li><b>DbContext:</b> Qu·∫£n l√Ω k·∫øt n·ªëi, transaction, truy v·∫•n v√† thay ƒë·ªïi d·ªØ li·ªáu.</li>  <li><b>DbSet&lt;T&gt;:</b> ƒê·∫°i di·ªán cho m·ªôt b·∫£ng d·ªØ li·ªáu (Entity Collection).</li>  <li><b>Entity:</b> L·ªõp √°nh x·∫° v·ªõi b·∫£ng trong database.</li>  <li><b>Migration:</b> C·∫≠p nh·∫≠t schema database d·ª±a tr√™n thay ƒë·ªïi trong code.</li></ul><hr><h2>3. M√¥ h√¨nh ph√°t tri·ªÉn EF</h2><ul>  <li><b>Database First:</b> T·∫°o s·∫µn database ‚Üí sinh code t·ª± ƒë·ªông t·ª´ EDMX.</li>  <li><b>Code First:</b> T·∫°o class trong code ‚Üí EF sinh database d·ª±a tr√™n model.</li>  <li><b>Model First:</b> Thi·∫øt k·∫ø m√¥ h√¨nh b·∫±ng c√¥ng c·ª• tr·ª±c quan ‚Üí sinh c·∫£ code v√† database.</li></ul><hr><h2>4. C·∫•u h√¨nh Code First</h2><pre><code>using System.Data.Entity;public class SinhVien {    public int MaSV { get; set; }    public string HoTen { get; set; }    public string Lop { get; set; }}public class QLSinhVienContext : DbContext {    public DbSet&lt;SinhVien&gt; SinhViens { get; set; }}</code></pre><p>Khi ch·∫°y ch∆∞∆°ng tr√¨nh, EF s·∫Ω t·ª± ƒë·ªông t·∫°o database d·ª±a tr√™n class <code>SinhVien</code>.</p><hr><h2>5. CRUD trong Entity Framework</h2><p><b>Th√™m d·ªØ li·ªáu:</b></p><pre><code>using (var db = new QLSinhVienContext()) {    var sv = new SinhVien { HoTen = "Nguy·ªÖn An", Lop = "CNTT1" };    db.SinhViens.Add(sv);    db.SaveChanges();}</code></pre><p><b>ƒê·ªçc d·ªØ li·ªáu:</b></p><pre><code>using (var db = new QLSinhVienContext()) {    var list = db.SinhViens.ToList();    foreach (var sv in list)        Console.WriteLine($"{sv.MaSV} - {sv.HoTen}");}</code></pre><p><b>C·∫≠p nh·∫≠t d·ªØ li·ªáu:</b></p><pre><code>using (var db = new QLSinhVienContext()) {    var sv = db.SinhViens.Find(1);    sv.HoTen = "Tr·∫ßn Minh";    db.SaveChanges();}</code></pre><p><b>X√≥a d·ªØ li·ªáu:</b></p><pre><code>using (var db = new QLSinhVienContext()) {    var sv = db.SinhViens.Find(1);    db.SinhViens.Remove(sv);    db.SaveChanges();}</code></pre><hr><h2>6. Truy v·∫•n v·ªõi LINQ-to-Entities</h2><pre><code>using (var db = new QLSinhVienContext()) {    var ds = from s in db.SinhViens             where s.Lop == "CNTT1"             orderby s.HoTen             select new { s.MaSV, s.HoTen };    foreach (var sv in ds)        Console.WriteLine($"{sv.MaSV} - {sv.HoTen}");}</code></pre><p>LINQ-to-Entities cho ph√©p vi·∫øt truy v·∫•n m·∫°nh m·∫Ω, d·ªÖ ƒë·ªçc, t∆∞∆°ng th√≠ch v·ªõi database nhi·ªÅu lo·∫°i.</p><hr><h2>7. Migration ‚Äì c·∫≠p nh·∫≠t database t·ª´ code</h2><p>EF h·ªó tr·ª£ Migration ƒë·ªÉ c·∫≠p nh·∫≠t schema database khi class model thay ƒë·ªïi.</p><pre><code>Enable-MigrationsAdd-Migration InitDBUpdate-Database</code></pre><p>C√°c l·ªánh n√†y ch·∫°y trong Package Manager Console (Visual Studio).</p><hr><h2>üß† B√†i t·∫≠p th·ª±c h√†nh</h2><ol>  <li>T·∫°o m√¥ h√¨nh Code First cho b·∫£ng SinhVien(MaSV, HoTen, Lop, DiemTB).</li>  <li>Th·ª±c hi·ªán CRUD ƒë·∫ßy ƒë·ªß b·∫±ng Entity Framework.</li>  <li>Hi·ªÉn th·ªã danh s√°ch sinh vi√™n trong DataGridView.</li>  <li>T·∫°o truy v·∫•n LINQ l·ªçc sinh vi√™n theo l·ªõp ho·∫∑c ƒëi·ªÉm trung b√¨nh &gt; 8.0.</li>  <li>S·ª≠ d·ª•ng Migration ƒë·ªÉ c·∫≠p nh·∫≠t c·∫•u tr√∫c b·∫£ng th√™m c·ªôt m·ªõi.</li></ol><hr><h2>‚úÖ T·ªïng k·∫øt</h2><ul>  <li>Entity Framework l√† ORM m·∫°nh m·∫Ω, t·ª± ƒë·ªông √°nh x·∫° class ‚Üî database.</li>  <li>Code First gi√∫p l·∫≠p tr√¨nh vi√™n ki·ªÉm so√°t c·∫•u tr√∫c database ngay trong code.</li>  <li>LINQ-to-Entities h·ªó tr·ª£ truy v·∫•n m·∫°nh m·∫Ω, type-safe v√† d·ªÖ b·∫£o tr√¨.</li>  <li>Migration gi√∫p ƒë·ªìng b·ªô h√≥a database m√† kh√¥ng m·∫•t d·ªØ li·ªáu.</li></ul>