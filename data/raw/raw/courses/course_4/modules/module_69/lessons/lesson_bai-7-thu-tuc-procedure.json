{
  "title": "B√ÄI 7 ‚Äì TH·ª¶ T·ª§C (PROCEDURE)",
  "created_at": "2025-10-26T09:41:00Z",
  "url": "bai-7-thu-tuc-procedure",
  "editing_roles": "teachers",
  "page_id": 327,
  "last_edited_by": {
    "id": 1,
    "anonymous_id": "1",
    "display_name": "admin@gmail.com",
    "avatar_image_url": "http://localhost:3000/images/messages/avatar-50.png",
    "html_url": "http://localhost:3000/courses/4/users/1",
    "pronouns": null
  },
  "published": true,
  "hide_from_students": false,
  "front_page": false,
  "html_url": "http://localhost:3000/courses/4/pages/bai-7-thu-tuc-procedure",
  "todo_date": null,
  "publish_at": null,
  "updated_at": "2025-10-26T09:41:15Z",
  "locked_for_user": false,
  "body": "<h1>üìï B√ÄI 7 ‚Äì TH·ª¶ T·ª§C (PROCEDURE)</h1><h2>üéØ M·ª•c ti√™u h·ªçc t·∫≠p</h2><ul><li>Hi·ªÉu kh√°i ni·ªám, c·∫•u tr√∫c v√† m·ª•c ƒë√≠ch c·ªßa th·ªß t·ª•c l∆∞u tr·ªØ (Stored Procedure).</li><li>N·∫Øm ƒë∆∞·ª£c c√∫ ph√°p t·∫°o, g·ªçi, s·ª≠a v√† x√≥a Procedure trong SQL Server.</li><li>Bi·∫øt c√°ch s·ª≠ d·ª•ng tham s·ªë ƒë·∫ßu v√†o (IN), ƒë·∫ßu ra (OUT) v√† gi√° tr·ªã tr·∫£ v·ªÅ.</li><li>·ª®ng d·ª•ng Procedure ƒë·ªÉ gi·∫£m t·∫£i x·ª≠ l√Ω cho ·ª©ng d·ª•ng v√† tƒÉng hi·ªáu nƒÉng h·ªá th·ªëng.</li></ul><hr><h2>7.1 KH√ÅI NI·ªÜM V·ªÄ PROCEDURE</h2><p><b>Procedure (th·ªß t·ª•c)</b> l√† t·∫≠p h·ª£p c√°c c√¢u l·ªánh SQL ƒë∆∞·ª£c bi√™n d·ªãch s·∫µn v√† l∆∞u trong c∆° s·ªü d·ªØ li·ªáu ƒë·ªÉ th·ª±c hi·ªán m·ªôt t√°c v·ª• c·ª• th·ªÉ. Ng∆∞·ªùi d√πng c√≥ th·ªÉ g·ªçi Procedure thay v√¨ vi·∫øt l·∫°i c√πng m·ªôt ƒëo·∫°n SQL nhi·ªÅu l·∫ßn.</p><p>Procedure gi√∫p:</p><ul><li>T·ª± ƒë·ªông h√≥a c√°c thao t√°c (th√™m, s·ª≠a, x√≥a, th·ªëng k√™,...).</li><li>Gi·∫£m l∆∞u l∆∞·ª£ng truy·ªÅn gi·ªØa ·ª©ng d·ª•ng v√† DBMS.</li><li>TƒÉng kh·∫£ nƒÉng b·∫£o m·∫≠t (ch·ªâ cho ph√©p th·ª±c thi, kh√¥ng truy c·∫≠p tr·ª±c ti·∫øp b·∫£ng).</li></ul><hr><h2>7.2 C·∫§U TR√öC CHUNG C·ª¶A PROCEDURE</h2><pre>CREATE PROCEDURE TenThuTuc<br>    [ @ThamSo1 KieuDL [=GiaTriMacDinh], @ThamSo2 KieuDL OUTPUT ]<br>AS<br>BEGIN<br>    -- C√°c c√¢u l·ªánh SQL<br>END;</pre><p><b>V√≠ d·ª•:</b></p><pre>CREATE PROCEDURE sp_LietKeDiemCao @DiemMin FLOAT<br>AS<br>BEGIN<br>    SELECT MaSV, MaMon, Diem FROM KetQua WHERE Diem &gt;= @DiemMin;<br>END;</pre><hr><h2>7.3 G·ªåI PROCEDURE</h2><p>D√πng l·ªánh <b>EXEC</b> ho·∫∑c <b>EXECUTE</b> ƒë·ªÉ g·ªçi:</p><pre>EXEC sp_LietKeDiemCao 8;</pre><p>Ho·∫∑c v·ªõi tham s·ªë c√≥ t√™n:</p><pre>EXEC sp_LietKeDiemCao @DiemMin = 9;</pre><hr><h2>7.4 TH·ª¶ T·ª§C V·ªöI THAM S·ªê ƒê·∫¶U RA</h2><p>Th·ªß t·ª•c c√≥ th·ªÉ tr·∫£ v·ªÅ gi√° tr·ªã th√¥ng qua tham s·ªë OUTPUT:</p><pre>CREATE PROCEDURE sp_DemSinhVien @SoLuong INT OUTPUT<br>AS<br>BEGIN<br>    SELECT @SoLuong = COUNT(*) FROM SinhVien;<br>END;<br><br>DECLARE @Tong INT;<br>EXEC sp_DemSinhVien @Tong OUTPUT;<br>PRINT @Tong;</pre><p>K·∫øt qu·∫£ in ra t·ªïng s·ªë sinh vi√™n trong b·∫£ng.</p><hr><h2>7.5 S·ª¨A V√Ä X√ìA TH·ª¶ T·ª§C</h2><h3>S·ª≠a Procedure:</h3><pre>ALTER PROCEDURE TenThuTuc AS ...;</pre><h3>X√≥a Procedure:</h3><pre>DROP PROCEDURE TenThuTuc;</pre><hr><h2>7.6 ∆ØU V√Ä NH∆Ø·ª¢C ƒêI·ªÇM</h2><h3>∆Øu ƒëi·ªÉm</h3><ul><li>Gi·∫£m th·ªùi gian th·ª±c thi nh·ªù bi√™n d·ªãch s·∫µn.</li><li>TƒÉng b·∫£o m·∫≠t b·∫±ng c√°ch gi·∫•u logic x·ª≠ l√Ω b√™n trong DB.</li><li>D·ªÖ b·∫£o tr√¨ v√† t√°i s·ª≠ d·ª•ng.</li><li>Gi·∫£m l∆∞u l∆∞·ª£ng truy·ªÅn gi·ªØa ·ª©ng d·ª•ng v√† m√°y ch·ªß.</li></ul><h3>Nh∆∞·ª£c ƒëi·ªÉm</h3><ul><li>Kh√≥ debug v√† b·∫£o tr√¨ khi logic qu√° ph·ª©c t·∫°p.</li><li>Ph·ª• thu·ªôc v√†o DBMS (kh√¥ng d·ªÖ di chuy·ªÉn gi·ªØa c√°c h·ªá th·ªëng).</li><li>Kh√≥ version control so v·ªõi m√£ ngu·ªìn ·ª©ng d·ª•ng.</li></ul><hr><h2>7.7 ·ª®NG D·ª§NG TRONG H·ªÜ TH·ªêNG</h2><ul><li>Ki·ªÉm tra d·ªØ li·ªáu tr∆∞·ªõc khi ch√®n (validate input).</li><li>T·∫°o b√°o c√°o t·ªïng h·ª£p nhanh.</li><li>Th·ª±c hi·ªán giao d·ªãch nhi·ªÅu b∆∞·ªõc (transaction).</li><li>Qu·∫£n l√Ω ph√¢n quy·ªÅn ·ªü m·ª©c th·ªß t·ª•c thay v√¨ ·ªü m·ª©c b·∫£ng.</li></ul><hr><h2>‚úÖ Ghi nh·ªõ nhanh</h2><ul><li>Procedure l√† ƒëo·∫°n l·ªánh SQL ƒë∆∞·ª£c l∆∞u s·∫µn v√† c√≥ th·ªÉ g·ªçi nhi·ªÅu l·∫ßn.</li><li>D√πng EXEC ƒë·ªÉ g·ªçi th·ªß t·ª•c.</li><li>Tham s·ªë OUTPUT cho ph√©p l·∫•y gi√° tr·ªã tr·∫£ v·ªÅ.</li><li>C√≥ th·ªÉ ALTER ho·∫∑c DROP ƒë·ªÉ s·ª≠a ho·∫∑c x√≥a th·ªß t·ª•c.</li></ul>"
}