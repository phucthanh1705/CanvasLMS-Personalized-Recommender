<h1>üìó B√ÄI 5 ‚Äì CH·ªà M·ª§C (INDEX)</h1><h2>üéØ M·ª•c ti√™u h·ªçc t·∫≠p</h2><ul><li>Hi·ªÉu kh√°i ni·ªám, vai tr√≤ v√† c∆° ch·∫ø ho·∫°t ƒë·ªông c·ªßa ch·ªâ m·ª•c trong c∆° s·ªü d·ªØ li·ªáu.</li><li>N·∫Øm v·ªØng c√°c lo·∫°i ch·ªâ m·ª•c: ch·ªâ m·ª•c ph√¢n c·ª•m (clustered), kh√¥ng ph√¢n c·ª•m (non-clustered), v√† ch·ªâ m·ª•c t·ªïng h·ª£p (composite index).</li><li>Bi·∫øt c√°ch t·∫°o, s·ª≠ d·ª•ng v√† t·ªëi ∆∞u ch·ªâ m·ª•c ƒë·ªÉ n√¢ng cao hi·ªáu nƒÉng truy v·∫•n.</li><li>Hi·ªÉu ƒë∆∞·ª£c t√°c ƒë·ªông c·ªßa ch·ªâ m·ª•c ƒë·∫øn hi·ªáu nƒÉng ch√®n, c·∫≠p nh·∫≠t v√† x√≥a d·ªØ li·ªáu.</li></ul><hr><h2>5.1 KH√ÅI NI·ªÜM V·ªÄ CH·ªà M·ª§C</h2><p><b>Ch·ªâ m·ª•c (Index)</b> l√† m·ªôt c·∫•u tr√∫c d·ªØ li·ªáu gi√∫p tƒÉng t·ªëc ƒë·ªô truy xu·∫•t d·ªØ li·ªáu trong b·∫£ng, t∆∞∆°ng t·ª± nh∆∞ m·ª•c l·ª•c c·ªßa m·ªôt cu·ªën s√°ch. Thay v√¨ qu√©t to√†n b·ªô b·∫£ng, h·ªá qu·∫£n tr·ªã c∆° s·ªü d·ªØ li·ªáu (DBMS) s·ª≠ d·ª•ng ch·ªâ m·ª•c ƒë·ªÉ t√¨m d·ªØ li·ªáu nhanh h∆°n.</p><p>Ch·ªâ m·ª•c th∆∞·ªùng ƒë∆∞·ª£c c√†i ƒë·∫∑t b·∫±ng c·∫•u tr√∫c c√¢y <b>B-tree</b> ho·∫∑c <b>B+ tree</b>, gi√∫p gi·∫£m s·ªë l·∫ßn truy c·∫≠p ƒëƒ©a.</p><ul><li><b>Kh√¥ng c√≥ Index:</b> Truy v·∫•n th·ª±c hi·ªán <i>full table scan</i> ‚Äì ƒë·ªçc to√†n b·ªô d·ªØ li·ªáu.</li><li><b>C√≥ Index:</b> DBMS t√¨m ƒë·∫øn v·ªã tr√≠ ch√≠nh x√°c b·∫±ng c√°ch duy·ªát c√¢y ch·ªâ m·ª•c.</li></ul><hr><h2>5.2 PH√ÇN LO·∫†I CH·ªà M·ª§C</h2><h3>5.2.1 Ch·ªâ m·ª•c ph√¢n c·ª•m (Clustered Index)</h3><p>D·ªØ li·ªáu trong b·∫£ng ƒë∆∞·ª£c s·∫Øp x·∫øp v·∫≠t l√Ω theo th·ª© t·ª± c·ªßa kh√≥a ch·ªâ m·ª•c. M·ªói b·∫£ng ch·ªâ c√≥ duy nh·∫•t m·ªôt ch·ªâ m·ª•c ph√¢n c·ª•m.</p><p><b>V√≠ d·ª•:</b> Trong b·∫£ng SinhVien, n·∫øu t·∫°o clustered index tr√™n MSSV, d·ªØ li·ªáu s·∫Ω ƒë∆∞·ª£c l∆∞u tr√™n ƒëƒ©a theo th·ª© t·ª± MSSV.</p><h3>5.2.2 Ch·ªâ m·ª•c kh√¥ng ph√¢n c·ª•m (Non-clustered Index)</h3><p>D·ªØ li·ªáu kh√¥ng b·ªã thay ƒë·ªïi th·ª© t·ª± v·∫≠t l√Ω. C·∫•u tr√∫c ch·ªâ m·ª•c l∆∞u tr·ªè (pointer) ƒë·∫øn d√≤ng d·ªØ li·ªáu th·ª±c. C√≥ th·ªÉ t·∫°o nhi·ªÅu ch·ªâ m·ª•c kh√¥ng ph√¢n c·ª•m tr√™n m·ªôt b·∫£ng.</p><h3>5.2.3 Ch·ªâ m·ª•c t·ªïng h·ª£p (Composite Index)</h3><p>Ch·ªâ m·ª•c g·ªìm nhi·ªÅu c·ªôt. Th∆∞·ªùng d√πng ƒë·ªÉ t·ªëi ∆∞u c√°c truy v·∫•n c√≥ ƒëi·ªÅu ki·ªán tr√™n nhi·ªÅu thu·ªôc t√≠nh.</p><p><b>V√≠ d·ª•:</b> CREATE INDEX idx_DiemSV ON KetQua(MaSV, MaMon);</p><h3>5.2.4 Ch·ªâ m·ª•c duy nh·∫•t (Unique Index)</h3><p>ƒê·∫£m b·∫£o gi√° tr·ªã c·ªßa c·ªôt ho·∫∑c nh√≥m c·ªôt l√† duy nh·∫•t trong to√†n b·ªô b·∫£ng.</p><p><b>V√≠ d·ª•:</b> CREATE UNIQUE INDEX idx_UQ_MSSV ON SinhVien(MSSV);</p><hr><h2>5.3 T·∫†O V√Ä QU·∫¢N L√ù CH·ªà M·ª§C</h2><h3>5.3.1 C√∫ ph√°p t·∫°o Index</h3><pre>CREATE [UNIQUE] [CLUSTERED|NONCLUSTERED] INDEX index_name<br>ON table_name(column_name ASC|DESC);</pre><h3>5.3.2 Xem th√¥ng tin ch·ªâ m·ª•c</h3><pre>EXEC sp_helpindex 'TenBang';</pre><h3>5.3.3 X√≥a ch·ªâ m·ª•c</h3><pre>DROP INDEX TenIndex ON TenBang;</pre><hr><h2>5.4 ∆ØU V√Ä NH∆Ø·ª¢C ƒêI·ªÇM C·ª¶A CH·ªà M·ª§C</h2><h3>∆Øu ƒëi·ªÉm</h3><ul><li>TƒÉng t·ªëc ƒë·ªô t√¨m ki·∫øm v√† truy v·∫•n SELECT.</li><li>Gi·∫£m th·ªùi gian th·ª±c thi v·ªõi c√°c m·ªánh ƒë·ªÅ WHERE, ORDER BY, GROUP BY.</li><li>H·ªó tr·ª£ ki·ªÉm tra r√†ng bu·ªôc UNIQUE hi·ªáu qu·∫£.</li></ul><h3>Nh∆∞·ª£c ƒëi·ªÉm</h3><ul><li>T·ªën th√™m b·ªô nh·ªõ l∆∞u tr·ªØ cho c·∫•u tr√∫c ch·ªâ m·ª•c.</li><li>Gi·∫£m hi·ªáu nƒÉng khi th·ª±c hi·ªán INSERT, UPDATE, DELETE do ph·∫£i c·∫≠p nh·∫≠t l·∫°i ch·ªâ m·ª•c.</li><li>Kh√¥ng n√™n t·∫°o qu√° nhi·ªÅu ch·ªâ m·ª•c tr√™n b·∫£ng c√≥ t·∫ßn su·∫•t c·∫≠p nh·∫≠t cao.</li></ul><hr><h2>5.5 CHI·∫æN L∆Ø·ª¢C T·ªêI ∆ØU CH·ªà M·ª§C</h2><ul><li>T·∫°o ch·ªâ m·ª•c tr√™n c·ªôt th∆∞·ªùng xu·∫•t hi·ªán trong ƒëi·ªÅu ki·ªán WHERE ho·∫∑c JOIN.</li><li>H·∫°n ch·∫ø t·∫°o ch·ªâ m·ª•c tr√™n c·ªôt c√≥ gi√° tr·ªã tr√πng l·∫∑p cao (nh∆∞ Gi·ªõi t√≠nh).</li><li>D√πng <b>Composite Index</b> cho c√°c truy v·∫•n ƒëa ƒëi·ªÅu ki·ªán.</li><li>Ki·ªÉm tra hi·ªáu nƒÉng truy v·∫•n b·∫±ng l·ªánh <b>EXPLAIN</b> ho·∫∑c <b>Execution Plan</b>.</li><li>Th∆∞·ªùng xuy√™n c·∫≠p nh·∫≠t th·ªëng k√™ v√† t√°i t·ªï ch·ª©c (rebuild) ch·ªâ m·ª•c.</li></ul><hr><h2>‚úÖ Ghi nh·ªõ nhanh</h2><ul><li>Index tƒÉng t·ªëc ƒë·ªô truy v·∫•n nh∆∞ng l√†m gi·∫£m t·ªëc ƒë·ªô ghi d·ªØ li·ªáu.</li><li>Clustered Index s·∫Øp x·∫øp d·ªØ li·ªáu v·∫≠t l√Ω, Non-clustered Index l∆∞u tr·ªè ƒë·∫øn d·ªØ li·ªáu.</li><li>T·∫°o Index h·ª£p l√Ω gi√∫p t·ªëi ∆∞u hi·ªáu nƒÉng h·ªá th·ªëng.</li><li>Kh√¥ng n√™n l·∫°m d·ª•ng Index v√¨ chi ph√≠ b·∫£o tr√¨ cao.</li></ul>