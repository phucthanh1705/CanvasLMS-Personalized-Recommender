{
  "title": "BÃ€I 5 â€“ Táº¬P TIN (FILE I/O)",
  "created_at": "2025-10-19T09:40:13Z",
  "url": "bai-5-tap-tin-file-i-slash-o",
  "editing_roles": "teachers",
  "page_id": 206,
  "last_edited_by": {
    "id": 1,
    "anonymous_id": "1",
    "display_name": "admin@gmail.com",
    "avatar_image_url": "http://localhost:3000/images/messages/avatar-50.png",
    "html_url": "http://localhost:3000/courses/4/users/1",
    "pronouns": null
  },
  "published": true,
  "hide_from_students": false,
  "front_page": false,
  "html_url": "http://localhost:3000/courses/4/pages/bai-5-tap-tin-file-i-slash-o",
  "todo_date": null,
  "publish_at": null,
  "updated_at": "2025-10-19T09:40:28Z",
  "locked_for_user": false,
  "body": "<h1>ğŸ§© BÃ€I 5 â€“ Táº¬P TIN (FILE I/O)</h1><h2>ğŸ¯ Má»¥c tiÃªu há»c táº­p</h2><ul><li>Hiá»ƒu khÃ¡i niá»‡m táº­p tin vÃ  vai trÃ² cá»§a nÃ³ trong lÆ°u trá»¯ dá»¯ liá»‡u lÃ¢u dÃ i.</li><li>Biáº¿t cÃ¡ch má»Ÿ, Ä‘á»c, ghi vÃ  Ä‘Ã³ng táº­p tin trong ngÃ´n ngá»¯ C.</li><li>PhÃ¢n biá»‡t táº­p tin vÄƒn báº£n (text file) vÃ  táº­p tin nhá»‹ phÃ¢n (binary file).</li><li>á»¨ng dá»¥ng thao tÃ¡c file Ä‘á»ƒ quáº£n lÃ½ dá»¯ liá»‡u cáº¥u trÃºc (struct) vÃ  xá»­ lÃ½ lá»—i khi thao tÃ¡c vá»›i con trá» FILE.</li></ul><hr><h2>1. KhÃ¡i niá»‡m vá» táº­p tin</h2><p><b>Táº­p tin (File)</b> lÃ  vÃ¹ng nhá»› trÃªn Ä‘Ä©a dÃ¹ng Ä‘á»ƒ lÆ°u trá»¯ dá»¯ liá»‡u lÃ¢u dÃ i, khÃ´ng bá»‹ máº¥t khi chÆ°Æ¡ng trÃ¬nh káº¿t thÃºc. Trong C, viá»‡c thao tÃ¡c vá»›i táº­p tin Ä‘Æ°á»£c thá»±c hiá»‡n thÃ´ng qua con trá» <code>FILE*</code>.</p><pre><code>FILE *fptr;</code></pre><hr><h2>2. CÃ¡c thao tÃ¡c cÆ¡ báº£n vá»›i táº­p tin</h2><h3>2.1. Má»Ÿ táº­p tin</h3><pre><code>fptr = fopen(\"data.txt\", \"r\");</code></pre><p>CÃ¡c cháº¿ Ä‘á»™ má»Ÿ phá»• biáº¿n:</p><ul><li><code>\"r\"</code>: Äá»c file (pháº£i tá»“n táº¡i sáºµn).</li><li><code>\"w\"</code>: Ghi file (xÃ³a ná»™i dung cÅ©).</li><li><code>\"a\"</code>: Ghi ná»‘i tiáº¿p vÃ o cuá»‘i file.</li><li><code>\"rb\" / \"wb\" / \"ab\"</code>: DÃ¹ng cho file nhá»‹ phÃ¢n.</li></ul><hr><h3>2.2. ÄÃ³ng táº­p tin</h3><pre><code>fclose(fptr);</code></pre><p>LuÃ´n Ä‘Ã³ng file sau khi Ä‘á»c/ghi Ä‘á»ƒ giáº£i phÃ³ng tÃ i nguyÃªn há»‡ thá»‘ng.</p><hr><h3>2.3. Kiá»ƒm tra lá»—i khi má»Ÿ file</h3><pre><code>fptr = fopen(\"input.txt\", \"r\"); if(fptr == NULL){ printf(\"KhÃ´ng thá»ƒ má»Ÿ file\\n\"); exit(1); }</code></pre><hr><h2>3. Äá»c vÃ  ghi táº­p tin vÄƒn báº£n</h2><h3>3.1. Ghi file</h3><pre><code>FILE *f = fopen(\"output.txt\", \"w\"); fprintf(f, \"%d %s %.2f\", id, name, score); fclose(f);</code></pre><h3>3.2. Äá»c file</h3><pre><code>FILE *f = fopen(\"output.txt\", \"r\"); fscanf(f, \"%d %s %f\", &amp;id, name, &amp;score); fclose(f);</code></pre><h3>3.3. Äá»c tá»«ng dÃ²ng</h3><pre><code>char line[100]; while(fgets(line, sizeof(line), f) != NULL){ printf(\"%s\", line); }</code></pre><hr><h2>4. Äá»c/ghi táº­p tin nhá»‹ phÃ¢n</h2><p>Táº­p tin nhá»‹ phÃ¢n lÆ°u dá»¯ liá»‡u á»Ÿ dáº¡ng byte, nhanh vÃ  khÃ´ng bá»‹ máº¥t Ä‘á»‹nh dáº¡ng.</p><pre><code>typedef struct { int id; char name[30]; float gpa; } Student;</code></pre><h3>4.1. Ghi nhá»‹ phÃ¢n</h3><pre><code>FILE *f = fopen(\"sv.bin\", \"wb\"); fwrite(&amp;s, sizeof(Student), 1, f); fclose(f);</code></pre><h3>4.2. Äá»c nhá»‹ phÃ¢n</h3><pre><code>FILE *f = fopen(\"sv.bin\", \"rb\"); fread(&amp;s, sizeof(Student), 1, f); fclose(f);</code></pre><hr><h2>5. Kiá»ƒm tra cuá»‘i file (EOF)</h2><p>HÃ m <code>feof(FILE *f)</code> tráº£ vá» true náº¿u Ä‘Ã£ Ä‘á»c Ä‘áº¿n cuá»‘i file.</p><pre><code>while(!feof(f)){ fscanf(f, \"%s\", str); printf(\"%s\", str); }</code></pre><p>Tuy nhiÃªn, cÃ¡ch nÃ y dá»… lá»—i â†’ nÃªn kiá»ƒm tra giÃ¡ trá»‹ tráº£ vá» cá»§a <code>fscanf()</code> hoáº·c <code>fgets()</code>.</p><hr><h2>6. Má»™t sá»‘ hÃ m thao tÃ¡c nÃ¢ng cao</h2><ul><li><code>fgetc(f)</code>, <code>fputc(ch,f)</code>: Ä‘á»c/ghi kÃ½ tá»±.</li><li><code>fgets()</code>, <code>fputs()</code>: Ä‘á»c/ghi chuá»—i.</li><li><code>fseek(f,pos,origin)</code>, <code>ftell(f)</code>: di chuyá»ƒn con trá» file.</li><li><code>rewind(f)</code>: Ä‘Æ°a con trá» file vá» Ä‘áº§u.</li></ul><hr><h2>7. LÃ m viá»‡c vá»›i danh sÃ¡ch struct vÃ  file</h2><p>VÃ­ dá»¥ quáº£n lÃ½ danh sÃ¡ch sinh viÃªn:</p><pre><code>typedef struct { int id; char name[30]; float gpa; } Student; void saveList(Student *a,int n){ FILE *f=fopen(\"sv.bin\",\"wb\"); fwrite(a,sizeof(Student),n,f); fclose(f); } void readList(Student *a,int n){ FILE *f=fopen(\"sv.bin\",\"rb\"); fread(a,sizeof(Student),n,f); fclose(f); }</code></pre><hr><h2>8. Kiá»ƒm tra lá»—i khi Ä‘á»c/ghi</h2><ul><li>LuÃ´n kiá»ƒm tra con trá» <code>FILE*</code> trÆ°á»›c khi thao tÃ¡c.</li><li>Dá»¯ liá»‡u Ä‘á»c sai kiá»ƒu hoáº·c thiáº¿u newline cÃ³ thá»ƒ gÃ¢y lá»—i logic.</li><li>KhÃ´ng má»Ÿ cÃ¹ng má»™t file theo hai cháº¿ Ä‘á»™ khÃ¡c nhau.</li></ul><hr><h2>9. Bá»™ Ä‘á»‡m (Buffer)</h2><p>Khi Ä‘á»c/ghi file, dá»¯ liá»‡u Ä‘Æ°á»£c lÆ°u táº¡m trong vÃ¹ng Ä‘á»‡m (buffer). Viá»‡c Ä‘Ã³ng file sáº½ tá»± Ä‘á»™ng ghi háº¿t buffer ra Ä‘Ä©a. CÃ³ thá»ƒ dÃ¹ng <code>fflush(f)</code> Ä‘á»ƒ Ä‘áº©y dá»¯ liá»‡u ra ngay láº­p tá»©c.</p><hr><h2>âœ… Káº¿t luáº­n</h2><p>Táº­p tin lÃ  cÃ´ng cá»¥ quan trá»ng Ä‘á»ƒ lÆ°u trá»¯ dá»¯ liá»‡u bá»n vá»¯ng. Viá»‡c hiá»ƒu rÃµ cÃ¡ch Ä‘á»c/ghi file vÄƒn báº£n vÃ  nhá»‹ phÃ¢n, cÃ¹ng vá»›i cÃ¡ch kiá»ƒm tra lá»—i, giÃºp láº­p trÃ¬nh viÃªn trÃ¡nh rÃ² rá»‰ tÃ i nguyÃªn vÃ  Ä‘áº£m báº£o chÆ°Æ¡ng trÃ¬nh á»•n Ä‘á»‹nh, an toÃ n.</p>"
}