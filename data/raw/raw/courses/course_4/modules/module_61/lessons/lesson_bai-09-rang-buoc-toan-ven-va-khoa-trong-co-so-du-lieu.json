{
  "title": "B√ÄI 09 ‚Äì R√ÄNG BU·ªòC TO√ÄN V·∫∏N V√Ä KH√ìA TRONG C∆† S·ªû D·ªÆ LI·ªÜU",
  "created_at": "2025-10-25T05:11:47Z",
  "url": "bai-09-rang-buoc-toan-ven-va-khoa-trong-co-so-du-lieu",
  "editing_roles": "teachers",
  "page_id": 249,
  "last_edited_by": {
    "id": 1,
    "anonymous_id": "1",
    "display_name": "admin@gmail.com",
    "avatar_image_url": "http://localhost:3000/images/messages/avatar-50.png",
    "html_url": "http://localhost:3000/courses/4/users/1",
    "pronouns": null
  },
  "published": true,
  "hide_from_students": false,
  "front_page": false,
  "html_url": "http://localhost:3000/courses/4/pages/bai-09-rang-buoc-toan-ven-va-khoa-trong-co-so-du-lieu",
  "todo_date": null,
  "publish_at": null,
  "updated_at": "2025-10-25T05:12:04Z",
  "locked_for_user": false,
  "body": "<h1>üß© B√ÄI 09 ‚Äì R√ÄNG BU·ªòC TO√ÄN V·∫∏N V√Ä KH√ìA TRONG C∆† S·ªû D·ªÆ LI·ªÜU</h1><h2>üéØ M·ª•c ti√™u h·ªçc t·∫≠p</h2><ul><li>Hi·ªÉu ƒë∆∞·ª£c kh√°i ni·ªám to√†n v·∫πn d·ªØ li·ªáu (data integrity) v√† vai tr√≤ c·ªßa r√†ng bu·ªôc trong c∆° s·ªü d·ªØ li·ªáu.</li><li>Ph√¢n bi·ªát c√°c lo·∫°i r√†ng bu·ªôc: PRIMARY KEY, FOREIGN KEY, UNIQUE, NOT NULL, CHECK, DEFAULT.</li><li>N·∫Øm ƒë∆∞·ª£c c√°ch thi·∫øt k·∫ø v√† khai b√°o kh√≥a trong m√¥ h√¨nh quan h·ªá ƒë·ªÉ ƒë·∫£m b·∫£o t√≠nh nh·∫•t qu√°n d·ªØ li·ªáu.</li><li>Ph√¢n t√≠ch t√¨nh hu·ªëng th·ª±c t·∫ø vi ph·∫°m to√†n v·∫πn v√† ph∆∞∆°ng √°n x·ª≠ l√Ω.</li></ul><hr><h2>1. KH√ÅI NI·ªÜM TO√ÄN V·∫∏N D·ªÆ LI·ªÜU</h2><p><b>To√†n v·∫πn d·ªØ li·ªáu</b> l√† ƒë·∫£m b·∫£o d·ªØ li·ªáu lu√¥n ch√≠nh x√°c, h·ª£p l·ªá v√† nh·∫•t qu√°n trong m·ªçi t√¨nh hu·ªëng (th√™m, s·ª≠a, x√≥a, truy v·∫•n). H·ªá qu·∫£n tr·ªã c∆° s·ªü d·ªØ li·ªáu (DBMS) s·ª≠ d·ª•ng c√°c <b>r√†ng bu·ªôc (constraint)</b> ƒë·ªÉ duy tr√¨ t√≠nh to√†n v·∫πn n√†y.</p><ul><li><b>To√†n v·∫πn th·ª±c th·ªÉ (Entity Integrity):</b> M·ªói b·∫£n ghi ph·∫£i c√≥ kh√≥a ch√≠nh duy nh·∫•t v√† kh√¥ng ƒë∆∞·ª£c NULL.</li><li><b>To√†n v·∫πn tham chi·∫øu (Referential Integrity):</b> Kh√≥a ngo·∫°i ph·∫£i tr·ªè t·ªõi b·∫£n ghi t·ªìn t·∫°i trong b·∫£ng cha.</li><li><b>To√†n v·∫πn mi·ªÅn gi√° tr·ªã (Domain Integrity):</b> M·ªói c·ªôt ch·ªâ ch·ª©a gi√° tr·ªã h·ª£p l·ªá trong mi·ªÅn x√°c ƒë·ªãnh.</li></ul><hr><h2>2. C√ÅC LO·∫†I R√ÄNG BU·ªòC C∆† B·∫¢N</h2><h3>2.1 PRIMARY KEY</h3><p>D√πng ƒë·ªÉ x√°c ƒë·ªãnh duy nh·∫•t m·ªói d√≤ng d·ªØ li·ªáu trong b·∫£ng. M·ªôt b·∫£ng ch·ªâ c√≥ m·ªôt kh√≥a ch√≠nh.</p><pre><code>CREATE TABLE SinhVien (<br>  MaSV CHAR(10) PRIMARY KEY,<br>  HoTen NVARCHAR(50),<br>  NgaySinh DATE<br>);</code></pre><h3>2.2 FOREIGN KEY</h3><p>ƒê·∫£m b·∫£o t√≠nh to√†n v·∫πn tham chi·∫øu gi·ªØa hai b·∫£ng (li√™n k·∫øt cha ‚Äì con).</p><pre><code>CREATE TABLE DangKy (<br>  MaSV CHAR(10),<br>  MaMH CHAR(10),<br>  FOREIGN KEY (MaSV) REFERENCES SinhVien(MaSV),<br>  FOREIGN KEY (MaMH) REFERENCES MonHoc(MaMH)<br>);</code></pre><h3>2.3 UNIQUE</h3><p>ƒê·∫£m b·∫£o gi√° tr·ªã trong c·ªôt kh√¥ng tr√πng l·∫∑p nh∆∞ng cho ph√©p NULL.</p><pre><code>ALTER TABLE SinhVien ADD CONSTRAINT uq_Email UNIQUE(Email);</code></pre><h3>2.4 NOT NULL</h3><p>B·∫Øt bu·ªôc nh·∫≠p d·ªØ li·ªáu trong c·ªôt ƒë√≥.</p><pre><code>ALTER TABLE MonHoc ALTER COLUMN TenMH NVARCHAR(100) NOT NULL;</code></pre><h3>2.5 CHECK</h3><p>Gi·ªõi h·∫°n gi√° tr·ªã h·ª£p l·ªá theo ƒëi·ªÅu ki·ªán x√°c ƒë·ªãnh.</p><pre><code>ALTER TABLE SinhVien ADD CONSTRAINT ck_Tuoi CHECK (YEAR(GETDATE()) - YEAR(NgaySinh) BETWEEN 18 AND 60);</code></pre><h3>2.6 DEFAULT</h3><p>G√°n gi√° tr·ªã m·∫∑c ƒë·ªãnh khi ng∆∞·ªùi d√πng kh√¥ng nh·∫≠p d·ªØ li·ªáu.</p><pre><code>ALTER TABLE SinhVien ADD CONSTRAINT df_TinhTrang DEFAULT('ƒêang h·ªçc') FOR TrangThai;</code></pre><hr><h2>3. C√ÅC LO·∫†I KH√ìA TRONG CSDL QUAN H·ªÜ</h2><ul><li><b>Kh√≥a ch√≠nh (Primary Key):</b> X√°c ƒë·ªãnh duy nh·∫•t m·ªôt d√≤ng.</li><li><b>Kh√≥a ngo·∫°i (Foreign Key):</b> Li√™n k·∫øt b·∫£ng con ‚Äì cha.</li><li><b>Kh√≥a ·ª©ng vi√™n (Candidate Key):</b> T·∫≠p h·ª£p c√°c tr∆∞·ªùng c√≥ th·ªÉ l√†m kh√≥a ch√≠nh.</li><li><b>Kh√≥a thay th·∫ø (Alternate Key):</b> Kh√≥a kh√¥ng ƒë∆∞·ª£c ch·ªçn l√†m kh√≥a ch√≠nh.</li><li><b>Kh√≥a t·ªïng h·ª£p (Composite Key):</b> Kh√≥a g·ªìm nhi·ªÅu thu·ªôc t√≠nh.</li></ul><hr><h2>4. QU·∫¢N L√ù TO√ÄN V·∫∏N THAM CHI·∫æU</h2><p>DBMS c√≥ th·ªÉ t·ª± ƒë·ªông x·ª≠ l√Ω khi d·ªØ li·ªáu cha b·ªã x√≥a ho·∫∑c c·∫≠p nh·∫≠t:</p><pre><code>FOREIGN KEY (MaSV) REFERENCES SinhVien(MaSV)<br>ON DELETE CASCADE<br>ON UPDATE CASCADE;</code></pre><p><b>CASCADE:</b> X√≥a/c·∫≠p nh·∫≠t d·ªØ li·ªáu con t∆∞∆°ng ·ª©ng.<br><b>SET NULL:</b> G√°n NULL cho kh√≥a ngo·∫°i khi b·∫£n ghi cha b·ªã x√≥a.<br><b>NO ACTION:</b> T·ª´ ch·ªëi thao t√°c n·∫øu vi ph·∫°m li√™n k·∫øt.</p><hr><h2>5. C√ÅC T√åNH HU·ªêNG VI PH·∫†M TO√ÄN V·∫∏N</h2><ul><li>X√≥a sinh vi√™n c√≤n t·ªìn t·∫°i b·∫£n ghi trong b·∫£ng ƒëƒÉng k√Ω ‚Üí vi ph·∫°m to√†n v·∫πn tham chi·∫øu.</li><li>Nh·∫≠p d·ªØ li·ªáu NULL cho kh√≥a ch√≠nh ‚Üí vi ph·∫°m to√†n v·∫πn th·ª±c th·ªÉ.</li><li>Nh·∫≠p ƒëi·ªÉm ngo√†i ph·∫°m vi 0‚Äì10 ‚Üí vi ph·∫°m to√†n v·∫πn mi·ªÅn gi√° tr·ªã.</li></ul><hr><h2>‚úÖ T·ªîNG K·∫æT</h2><ul><li>R√†ng bu·ªôc gi√∫p ƒë·∫£m b·∫£o d·ªØ li·ªáu ch√≠nh x√°c, an to√†n v√† logic.</li><li>Hi·ªÉu r√µ c√°ch khai b√°o kh√≥a v√† constraint gi√∫p gi·∫£m l·ªói khi thao t√°c d·ªØ li·ªáu.</li><li>C√°c c∆° ch·∫ø CASCADE v√† SET NULL gi√∫p t·ª± ƒë·ªông duy tr√¨ t√≠nh to√†n v·∫πn gi·ªØa c√°c b·∫£ng.</li></ul>"
}