{
  "title": "BÃ€I 09 â€“ Äá»ŠNH TUYáº¾N (ROUTING) TRONG ASP.NET CORE MVC",
  "created_at": "2025-10-14T05:37:43Z",
  "url": "bai-09-dinh-tuyen-routing-trong-asp-dot-net-core-mvc",
  "editing_roles": "teachers",
  "page_id": 118,
  "last_edited_by": {
    "id": 1,
    "anonymous_id": "1",
    "display_name": "admin@gmail.com",
    "avatar_image_url": "http://localhost:3000/images/messages/avatar-50.png",
    "html_url": "http://localhost:3000/courses/4/users/1",
    "pronouns": null
  },
  "published": true,
  "hide_from_students": false,
  "front_page": false,
  "html_url": "http://localhost:3000/courses/4/pages/bai-09-dinh-tuyen-routing-trong-asp-dot-net-core-mvc",
  "todo_date": null,
  "publish_at": null,
  "updated_at": "2025-10-14T05:37:57Z",
  "locked_for_user": false,
  "body": "<h1>ğŸ§© BÃ€I 09 â€“ Äá»ŠNH TUYáº¾N (ROUTING) TRONG ASP.NET CORE MVC</h1><h2>ğŸ¯ Má»¥c tiÃªu há»c táº­p</h2><ul><li>Hiá»ƒu cÆ¡ cháº¿ hoáº¡t Ä‘á»™ng cá»§a Routing trong ASP.NET Core MVC.</li><li>PhÃ¢n biá»‡t giá»¯a <b>Conventional Routing</b> vÃ  <b>Attribute Routing</b>.</li><li>Biáº¿t cÃ¡ch Ä‘á»‹nh nghÄ©a, tÃ¹y chá»‰nh vÃ  truyá»n tham sá»‘ qua URL.</li><li>Thá»±c hÃ nh xÃ¢y dá»±ng custom route cho Controller vÃ  Action.</li></ul><hr><h2>1. Tá»•ng quan vá» Routing</h2><p><b>Routing</b> lÃ  cÆ¡ cháº¿ Ã¡nh xáº¡ (mapping) giá»¯a <b>URL</b> ngÆ°á»i dÃ¹ng nháº­p vÃ o vÃ  <b>Controller/Action</b> tÆ°Æ¡ng á»©ng trong á»©ng dá»¥ng MVC.</p><p>VÃ­ dá»¥:</p><pre><code>URL: /Home/Indexâ†’ Gá»i: HomeController.Index()</code></pre><p>Routing Ä‘Æ°á»£c cáº¥u hÃ¬nh trong file <code>Program.cs</code> hoáº·c <code>Startup.cs</code>.</p><hr><h2>2. Cáº¥u hÃ¬nh Ä‘á»‹nh tuyáº¿n máº·c Ä‘á»‹nh (Conventional Routing)</h2><p>Trong ASP.NET Core MVC, Ä‘á»‹nh tuyáº¿n máº·c Ä‘á»‹nh Ä‘Æ°á»£c khai bÃ¡o nhÆ° sau:</p><pre><code>app.UseRouting();app.UseEndpoints(endpoints =&gt;{    endpoints.MapControllerRoute(        name: \"default\",        pattern: \"{controller=Home}/{action=Index}/{id?}\");});</code></pre><ul><li><code>{controller}</code> â€“ tÃªn Controller (bá» háº­u tá»‘ â€œControllerâ€).</li><li><code>{action}</code> â€“ tÃªn phÆ°Æ¡ng thá»©c Action.</li><li><code>{id?}</code> â€“ tham sá»‘ tÃ¹y chá»n (cÃ³ thá»ƒ bá» qua).</li></ul><p>VÃ­ dá»¥:</p><ul><li><code>/Student/Details/5</code> â†’ <code>StudentController.Details(5)</code></li><li><code>/Home/Index</code> â†’ <code>HomeController.Index()</code></li></ul><hr><h2>3. Attribute Routing (Äá»‹nh tuyáº¿n báº±ng thuá»™c tÃ­nh)</h2><p>ASP.NET Core há»— trá»£ Ä‘á»‹nh nghÄ©a route trá»±c tiáº¿p trÃªn Controller hoáº·c Action thÃ´ng qua thuá»™c tÃ­nh <code>[Route]</code>.</p><h3>VÃ­ dá»¥:</h3><pre><code>[Route(\"student\")]public class StudentController : Controller{    [Route(\"list\")]    public IActionResult Index() =&gt; View();    [Route(\"detail/{id}\")]    public IActionResult Details(int id)    {        return Content($\"ID sinh viÃªn: {id}\");    }}</code></pre><p>Truy cáº­p:</p><ul><li><code>/student/list</code> â†’ Index()</li><li><code>/student/detail/2</code> â†’ Details(2)</li></ul><hr><h2>4. Truyá»n tham sá»‘ qua URL</h2><p>Routing cho phÃ©p truyá»n dá»¯ liá»‡u qua URL dÆ°á»›i dáº¡ng tham sá»‘.</p><pre><code>[Route(\"product/detail/{id}/{name}\")]public IActionResult Info(int id, string name){    return Content($\"MÃ£ sáº£n pháº©m: {id}, TÃªn: {name}\");}</code></pre><p>Truy cáº­p: <code>/product/detail/101/Laptop</code></p><hr><h2>5. Route Constraints (Giá»›i háº¡n tham sá»‘)</h2><p>DÃ¹ng Ä‘á»ƒ Ä‘áº£m báº£o giÃ¡ trá»‹ trong URL há»£p lá»‡ trÆ°á»›c khi Ä‘áº¿n Controller.</p><h3>VÃ­ dá»¥:</h3><pre><code>[Route(\"news/{year:int}/{month:int}\")]public IActionResult Show(int year, int month){    return Content($\"Tin tá»©c thÃ¡ng {month}/{year}\");}</code></pre><p>Chá»‰ cháº¥p nháº­n URL chá»©a sá»‘ nguyÃªn: <code>/news/2025/10</code></p><p>CÃ¡c kiá»ƒu constraint phá»• biáº¿n:</p><ul><li><code>{id:int}</code> â€“ kiá»ƒu sá»‘ nguyÃªn</li><li><code>{name:alpha}</code> â€“ chá»‰ kÃ½ tá»± chá»¯</li><li><code>{length:maxlength(10)}</code> â€“ giá»›i háº¡n Ä‘á»™ dÃ i</li><li><code>{price:decimal}</code> â€“ sá»‘ tháº­p phÃ¢n</li></ul><hr><h2>6. Äáº·t tÃªn cho Route (Route Name)</h2><p>Cho phÃ©p gá»i route báº±ng tÃªn thay vÃ¬ viáº¿t láº¡i URL:</p><pre><code>[Route(\"student/detail/{id}\", Name = \"student_detail\")]public IActionResult Detail(int id){    return Content($\"ID sinh viÃªn: {id}\");}</code></pre><p>Trong View:</p><pre><code>&lt;a asp-route=\"student_detail\" asp-route-id=\"5\"&gt;Xem sinh viÃªn 5&lt;/a&gt;</code></pre><hr><h2>7. Multiple Routes (Nhiá»u tuyáº¿n Ä‘Æ°á»ng cho 1 action)</h2><pre><code>[Route(\"student/detail/{id}\")][Route(\"student/info/{id}\")]public IActionResult Info(int id){    return Content($\"ThÃ´ng tin sinh viÃªn: {id}\");}</code></pre><p>â†’ CÃ³ thá»ƒ truy cáº­p báº±ng 2 URL khÃ¡c nhau.</p><hr><h2>8. Routing trong Razor Link Tag Helper</h2><p>ASP.NET Core cung cáº¥p cÃº phÃ¡p <code>asp-controller</code> vÃ  <code>asp-action</code> Ä‘á»ƒ táº¡o link an toÃ n.</p><pre><code>&lt;a asp-controller=\"Student\" asp-action=\"Details\" asp-route-id=\"3\"&gt;Xem&lt;/a&gt;</code></pre><p>Tá»± Ä‘á»™ng táº¡o ra URL <code>/Student/Details/3</code>.</p><hr><h2>9. Route Order (thá»© tá»± Æ°u tiÃªn)</h2><p>Khi cÃ³ nhiá»u route trÃ¹ng khá»›p, ASP.NET Core sáº½ Æ°u tiÃªn route Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a sá»›m hÆ¡n (hoáº·c cÃ³ <code>Order</code> nhá» hÆ¡n).</p><pre><code>[Route(\"home/about\", Order = 1)][Route(\"home/{action}\", Order = 2)]</code></pre><hr><h2>ğŸ§  BÃ i táº­p thá»±c hÃ nh</h2><ol><li>Táº¡o Controller <code>ProductController</code> vá»›i route <code>/product/list</code> vÃ  <code>/product/detail/{id}</code>.</li><li>DÃ¹ng route constraint chá»‰ cho phÃ©p id lÃ  sá»‘ nguyÃªn.</li><li>Táº¡o route <code>/news/{year}/{month}</code> vÃ  in ra tiÃªu Ä‘á» theo thá»i gian.</li><li>ThÃªm nhiá»u route cho cÃ¹ng má»™t Action (vÃ­ dá»¥ <code>/student/info/{id}</code> vÃ  <code>/student/detail/{id}</code>).</li><li>DÃ¹ng <code>asp-controller</code> vÃ  <code>asp-action</code> trong Razor Ä‘á»ƒ táº¡o liÃªn káº¿t Ä‘á»™ng.</li></ol><hr><h2>âœ… Tá»•ng káº¿t</h2><ul><li>Náº¯m vá»¯ng cÆ¡ cháº¿ Routing trong ASP.NET Core MVC.</li><li>PhÃ¢n biá»‡t Conventional vÃ  Attribute Routing.</li><li>Sá»­ dá»¥ng constraint, route name, vÃ  tag helper Ä‘Ãºng cÃ¡ch.</li><li>TÃ¹y chá»‰nh URL thÃ¢n thiá»‡n vÃ  báº£o trÃ¬ dá»… dÃ ng.</li></ul>"
}