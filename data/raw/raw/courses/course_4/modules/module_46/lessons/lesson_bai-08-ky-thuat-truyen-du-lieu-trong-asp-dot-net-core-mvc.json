{
  "title": "B√ÄI 08 ‚Äì K·ª∏ THU·∫¨T TRUY·ªÄN D·ªÆ LI·ªÜU TRONG ASP.NET CORE MVC",
  "created_at": "2025-10-14T05:31:24Z",
  "url": "bai-08-ky-thuat-truyen-du-lieu-trong-asp-dot-net-core-mvc",
  "editing_roles": "teachers",
  "page_id": 117,
  "last_edited_by": {
    "id": 1,
    "anonymous_id": "1",
    "display_name": "admin@gmail.com",
    "avatar_image_url": "http://localhost:3000/images/messages/avatar-50.png",
    "html_url": "http://localhost:3000/courses/4/users/1",
    "pronouns": null
  },
  "published": true,
  "hide_from_students": false,
  "front_page": false,
  "html_url": "http://localhost:3000/courses/4/pages/bai-08-ky-thuat-truyen-du-lieu-trong-asp-dot-net-core-mvc",
  "todo_date": null,
  "publish_at": null,
  "updated_at": "2025-10-14T05:31:38Z",
  "locked_for_user": false,
  "body": "<h1>üß© B√ÄI 08 ‚Äì K·ª∏ THU·∫¨T TRUY·ªÄN D·ªÆ LI·ªÜU TRONG ASP.NET CORE MVC</h1><h2>üéØ M·ª•c ti√™u h·ªçc t·∫≠p</h2><ul><li>Hi·ªÉu c√°c ph∆∞∆°ng ph√°p truy·ªÅn d·ªØ li·ªáu gi·ªØa Controller v√† View trong MVC.</li><li>Ph√¢n bi·ªát gi·ªØa <b>ViewBag</b>, <b>ViewData</b> v√† <b>TempData</b>.</li><li>Th·ª±c h√†nh nh·∫≠n d·ªØ li·ªáu t·ª´ form b·∫±ng <b>Model Binding</b>.</li><li>√Åp d·ª•ng c√°c k·ªπ thu·∫≠t ƒë·ªÉ chia s·∫ª d·ªØ li·ªáu trong v√≤ng ƒë·ªùi request.</li></ul><hr><h2>1. T·ªïng quan v·ªÅ truy·ªÅn d·ªØ li·ªáu trong MVC</h2><p>Khi ng∆∞·ªùi d√πng g·ª≠i y√™u c·∫ßu (request), Controller x·ª≠ l√Ω d·ªØ li·ªáu v√† truy·ªÅn cho View hi·ªÉn th·ªã. C√≥ nhi·ªÅu c√°ch ƒë·ªÉ truy·ªÅn d·ªØ li·ªáu:</p><ul><li><b>ViewData</b> ‚Äì d·∫°ng t·ª´ ƒëi·ªÉn (dictionary) l∆∞u d·ªØ li·ªáu t·∫°m th·ªùi trong request.</li><li><b>ViewBag</b> ‚Äì wrapper ƒë·ªông (dynamic) c·ªßa ViewData.</li><li><b>TempData</b> ‚Äì l∆∞u d·ªØ li·ªáu gi·ªØa 2 request (chuy·ªÉn trang, redirect).</li><li><b>Model Binding</b> ‚Äì √°nh x·∫° d·ªØ li·ªáu form sang ƒë·ªëi t∆∞·ª£ng Model.</li></ul><hr><h2>2. ViewData</h2><p>ViewData l√† m·ªôt ƒë·ªëi t∆∞·ª£ng ki·ªÉu <code>ViewDataDictionary</code>, l∆∞u d·ªØ li·ªáu d·∫°ng key‚Äìvalue.</p><h3>V√≠ d·ª•:</h3><pre><code>// Controllerpublic IActionResult Index(){    ViewData[\"Title\"] = \"Trang ch·ªß\";    ViewData[\"Message\"] = \"Ch√†o m·ª´ng b·∫°n ƒë·∫øn v·ªõi MVC Core!\";    return View();}</code></pre><pre><code>// View (Index.cshtml)&lt;h2&gt;@ViewData[\"Title\"]&lt;/h2&gt;&lt;p&gt;@ViewData[\"Message\"]&lt;/p&gt;</code></pre><p><b>ƒê·∫∑c ƒëi·ªÉm:</b></p><ul><li>Ki·ªÉu d·ªØ li·ªáu: key‚Äìvalue (string ‚Üí object).</li><li>Ch·ªâ t·ªìn t·∫°i trong request hi·ªán t·∫°i.</li><li>Ph·∫£i ki·ªÉm tra null khi s·ª≠ d·ª•ng.</li></ul><hr><h2>3. ViewBag</h2><p>ViewBag l√† m·ªôt thu·ªôc t√≠nh ƒë·ªông (dynamic object) d√πng ƒë·ªÉ truy·ªÅn d·ªØ li·ªáu t·ª´ Controller sang View d·ªÖ h∆°n.</p><h3>V√≠ d·ª•:</h3><pre><code>// Controllerpublic IActionResult Info(){    ViewBag.Name = \"Nguy·ªÖn VƒÉn A\";    ViewBag.Score = 8.5;    return View();}</code></pre><pre><code>// View&lt;p&gt;H·ªç t√™n: @ViewBag.Name&lt;/p&gt;&lt;p&gt;ƒêi·ªÉm trung b√¨nh: @ViewBag.Score&lt;/p&gt;</code></pre><p><b>So s√°nh nhanh:</b></p><table border=\"1\" cellpadding=\"6\" cellspacing=\"0\"><thead><tr><th>Ti√™u ch√≠</th><th>ViewData</th><th>ViewBag</th></tr></thead><tbody><tr><td>Ki·ªÉu d·ªØ li·ªáu</td><td>Dictionary (key-value)</td><td>Dynamic object</td></tr><tr><td>Ph·∫°m vi t·ªìn t·∫°i</td><td>Trong request</td><td>Trong request</td></tr><tr><td>C√°ch truy c·∫≠p</td><td>ViewData[\"key\"]</td><td>ViewBag.key</td></tr></tbody></table><hr><h2>4. TempData</h2><p><b>TempData</b> l∆∞u d·ªØ li·ªáu trong <b>Session</b> ƒë·ªÉ chia s·∫ª gi·ªØa 2 request li·ªÅn nhau, th∆∞·ªùng d√πng khi <b>Redirect</b>.</p><h3>V√≠ d·ª•:</h3><pre><code>// Controller Apublic IActionResult Save(){    TempData[\"Notice\"] = \"L∆∞u d·ªØ li·ªáu th√†nh c√¥ng!\";    return RedirectToAction(\"Result\");}// Controller Bpublic IActionResult Result(){    ViewBag.Message = TempData[\"Notice\"];    return View();}</code></pre><p><b>L∆∞u √Ω:</b> Sau khi ƒë·ªçc, TempData t·ª± ƒë·ªông b·ªã x√≥a (ch·ªâ t·ªìn t·∫°i 1 l·∫ßn).</p><hr><h2>5. Model Binding</h2><p><b>Model Binding</b> l√† c∆° ch·∫ø t·ª± ƒë·ªông √°nh x·∫° d·ªØ li·ªáu t·ª´ form HTML ho·∫∑c query string v√†o tham s·ªë trong Action ho·∫∑c Model class.</p><h3>V√≠ d·ª• 1 ‚Äì √°nh x·∫° tham s·ªë ƒë∆°n:</h3><pre><code>// View&lt;form asp-action=\"Greet\" method=\"post\"&gt;  &lt;input type=\"text\" name=\"name\" /&gt;  &lt;button&gt;G·ª≠i&lt;/button&gt;&lt;/form&gt;// Controller[HttpPost]public IActionResult Greet(string name){    ViewBag.Message = $\"Xin ch√†o {name}!\";    return View();}</code></pre><h3>V√≠ d·ª• 2 ‚Äì √°nh x·∫° Model:</h3><pre><code>public class Student{    public string Name { get; set; }    public double GPA { get; set; }}[HttpPost]public IActionResult Register(Student s){    return View(s);}</code></pre><pre><code>// View&lt;form asp-action=\"Register\" method=\"post\"&gt;  &lt;input name=\"Name\" /&gt;  &lt;input name=\"GPA\" /&gt;  &lt;button&gt;G·ª≠i&lt;/button&gt;&lt;/form&gt;</code></pre><p>ASP.NET Core t·ª± ƒë·ªông bind d·ªØ li·ªáu v√†o ƒë·ªëi t∆∞·ª£ng <code>Student</code>.</p><hr><h2>6. Truy·ªÅn d·ªØ li·ªáu ng∆∞·ª£c t·ª´ View v·ªÅ Controller</h2><ul><li>Th√¥ng qua form POST (form action + input name tr√πng v·ªõi Model/Parameter).</li><li>Th√¥ng qua AJAX (g·ª≠i JSON v·ªÅ Controller).</li></ul><h3>V√≠ d·ª• AJAX:</h3><pre><code>$.ajax({  type: 'POST',  url: '/Home/Register',  data: JSON.stringify({ Name: 'An', GPA: 9 }),  contentType: 'application/json; charset=utf-8'});</code></pre><hr><h2>7. T√¨nh hu·ªëng k·∫øt h·ª£p</h2><p>Khi c·∫ßn hi·ªÉn th·ªã th√¥ng b√°o sau khi th√™m sinh vi√™n, ta c√≥ th·ªÉ d√πng TempData:</p><pre><code>TempData[\"Notice\"] = \"ƒê√£ th√™m sinh vi√™n th√†nh c√¥ng!\";return RedirectToAction(\"Index\");</code></pre><p>Trong View Index:</p><pre><code>&lt;div class=\"alert alert-success\"&gt;@TempData[\"Notice\"]&lt;/div&gt;</code></pre><hr><h2>üß† B√†i t·∫≠p th·ª±c h√†nh</h2><ol><li>T·∫°o trang Controller <code>HomeController</code> c√≥ action <code>Info()</code> d√πng ViewBag ƒë·ªÉ hi·ªÉn th·ªã th√¥ng tin c√° nh√¢n.</li><li>D√πng ViewData ƒë·ªÉ truy·ªÅn danh s√°ch sinh vi√™n (List&lt;string&gt;) sang View v√† hi·ªÉn th·ªã.</li><li>D√πng TempData ƒë·ªÉ hi·ªÉn th·ªã th√¥ng b√°o khi chuy·ªÉn trang.</li><li>T·∫°o form ƒëƒÉng k√Ω sinh vi√™n, nh·∫≠n d·ªØ li·ªáu b·∫±ng Model Binding.</li><li>D√πng AJAX g·ª≠i d·ªØ li·ªáu JSON l√™n Controller v√† hi·ªÉn th·ªã ph·∫£n h·ªìi trong View.</li></ol><hr><h2>‚úÖ T·ªïng k·∫øt</h2><ul><li>Hi·ªÉu r√µ c√°c ph∆∞∆°ng ph√°p truy·ªÅn d·ªØ li·ªáu trong MVC.</li><li>Bi·∫øt khi n√†o d√πng ViewBag, ViewData, TempData, Model Binding.</li><li>C√≥ th·ªÉ x·ª≠ l√Ω lu·ªìng d·ªØ li·ªáu Controller ‚Üí View ‚Üí Controller.</li><li>√Åp d·ª•ng v√†o ·ª©ng d·ª•ng ASP.NET Core MVC th·ª±c t·∫ø (CRUD, form, th√¥ng b√°o,‚Ä¶).</li></ul>"
}