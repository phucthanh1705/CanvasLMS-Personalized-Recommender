<h1>üß© B√ÄI 02 ‚Äì T·∫†O C∆† S·ªû D·ªÆ LI·ªÜU CHO WEBSITE B√ÅN H√ÄNG (SPRING DATA JPA + MYSQL)</h1>

<h2>üéØ M·ª•c ti√™u h·ªçc t·∫≠p</h2>
<ul>
 <li>Hi·ªÉu kh√°i ni·ªám ORM (Object Relational Mapping) v√† c∆° ch·∫ø ho·∫°t ƒë·ªông c·ªßa Spring Data JPA.</li>
 <li>C√†i ƒë·∫∑t v√† c·∫•u h√¨nh k·∫øt n·ªëi MySQL cho ·ª©ng d·ª•ng Spring Boot.</li>
 <li>Thi·∫øt k·∫ø m√¥ h√¨nh d·ªØ li·ªáu v√† √°nh x·∫° entity ‚Äì table (mapping annotation).</li>
 <li>Th·ª±c h√†nh thao t√°c CRUD d·ªØ li·ªáu b·∫±ng JPA Repository.</li>
</ul>
<hr>

<h2>1. Gi·ªõi thi·ªáu Spring Data JPA</h2>
<p><b>Spring Data JPA</b> l√† module h·ªó tr·ª£ thao t√°c c∆° s·ªü d·ªØ li·ªáu theo m√¥ h√¨nh ORM (Object-Relational Mapping), gi√∫p l·∫≠p tr√¨nh vi√™n l√†m vi·ªác v·ªõi entity Java thay v√¨ c√¢u l·ªánh SQL thu·∫ßn.</p>
<p><b>∆Øu ƒëi·ªÉm:</b></p>
<ul>
 <li>Gi·∫£m thi·ªÉu code JDBC th·ªß c√¥ng (Connection, Statement).</li>
 <li>H·ªó tr·ª£ transaction t·ª± ƒë·ªông v√† lazy loading.</li>
 <li>D·ªÖ m·ªü r·ªông v√† t√≠ch h·ª£p v·ªõi Hibernate.</li>
</ul>
<p><b>Spring Boot</b> t·ª± ƒë·ªông c·∫•u h√¨nh Hibernate l√†m JPA provider m·∫∑c ƒë·ªãnh.</p>
<hr>

<h2>2. C·∫•u h√¨nh k·∫øt n·ªëi c∆° s·ªü d·ªØ li·ªáu MySQL</h2>
<p>Th√™m dependency v√†o t·ªáp <code>pom.xml</code>:</p>
<pre><code>&lt;dependency&gt;
 &lt;groupId&gt;mysql&lt;/groupId&gt;
 &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
 &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
 &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;
&lt;/dependency&gt;</code></pre>
<p>C·∫•u h√¨nh trong <code>application.properties</code>:</p>
<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/shopdb
spring.datasource.username=root
spring.datasource.password=
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect</code></pre>
<p>L·ªánh t·∫°o database trong MySQL:</p>
<pre><code>CREATE DATABASE shopdb CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;</code></pre>
<hr>

<h2>3. Thi·∫øt k·∫ø m√¥ h√¨nh d·ªØ li·ªáu</h2>
<p>Thi·∫øt k·∫ø h·ªá th·ªëng b√°n h√†ng g·ªìm c√°c b·∫£ng ch√≠nh:</p>
<ul>
 <li><b>Product</b> ‚Äì l∆∞u th√¥ng tin s·∫£n ph·∫©m.</li>
 <li><b>Category</b> ‚Äì nh√≥m s·∫£n ph·∫©m.</li>
 <li><b>Order</b> ‚Äì ƒë∆°n h√†ng c·ªßa kh√°ch.</li>
 <li><b>OrderDetail</b> ‚Äì chi ti·∫øt s·∫£n ph·∫©m trong ƒë∆°n h√†ng.</li>
</ul>
<p><b>V√≠ d·ª• class Product.java</b>:</p>
<pre><code>package com.example.shop.model;

import jakarta.persistence.*;

@Entity
@Table(name = "products")
public class Product {
 @Id
 @GeneratedValue(strategy = GenerationType.IDENTITY)
 private Long id;

 @Column(nullable = false, length = 100)
 private String name;

 private Double price;

 @Column(length = 255)
 private String description;

 @ManyToOne
 @JoinColumn(name = "category_id")
 private Category category;

 // getters &amp; setters
}</code></pre>
<p><b>V√≠ d·ª• class Category.java</b>:</p>
<pre><code>@Entity
@Table(name = "categories")
public class Category {
 @Id
 @GeneratedValue(strategy = GenerationType.IDENTITY)
 private Long id;

 private String name;

 @OneToMany(mappedBy = "category")
 private List&lt;Product&gt; products;
}</code></pre>
<hr>

<h2>4. Repository ‚Äì CRUD b·∫±ng JPA</h2>
<p>T·∫°o repository interface k·∫ø th·ª´a <code>JpaRepository</code>:</p>
<pre><code>package com.example.shop.repository;

import com.example.shop.model.Product;
import org.springframework.data.jpa.repository.JpaRepository;
import org.springframework.stereotype.Repository;

@Repository
public interface ProductRepository extends JpaRepository&lt;Product, Long&gt; {
 List&lt;Product&gt; findByCategoryName(String categoryName);
}</code></pre>
<p>Spring Boot t·ª± ƒë·ªông sinh ra c√°c ph∆∞∆°ng th·ª©c CRUD (save, findAll, findById, deleteById, ‚Ä¶).</p>
<hr>

<h2>5. Service v√† Controller</h2>
<p>T·∫°o l·ªõp Service x·ª≠ l√Ω logic nghi·ªáp v·ª•:</p>
<pre><code>@Service
public class ProductService {
 @Autowired
 private ProductRepository productRepo;

 public List&lt;Product&gt; getAll() {
 return productRepo.findAll();
 }

 public void save(Product p) {
 productRepo.save(p);
 }
}</code></pre>
<p>Controller g·ªçi service ƒë·ªÉ hi·ªÉn th·ªã danh s√°ch s·∫£n ph·∫©m:</p>
<pre><code>@Controller
public class ProductController {
 @Autowired
 private ProductService service;

 @GetMapping("/products")
 public String list(Model model) {
 model.addAttribute("list", service.getAll());
 return "product-list";
 }
}</code></pre>
<hr>

<h2>6. Th·ª±c h√†nh</h2>
<ul>
 <li>T·∫°o database <code>shopdb</code> v√† 4 entity: Product, Category, Order, OrderDetail.</li>
 <li>T·∫°o repository t∆∞∆°ng ·ª©ng v√† test ph∆∞∆°ng th·ª©c CRUD.</li>
 <li>Th√™m trang <code>product-list.html</code> hi·ªÉn th·ªã danh s√°ch s·∫£n ph·∫©m t·ª´ DB.</li>
</ul>
<hr>

<h2>‚úÖ T·ªïng k·∫øt</h2>
<ul>
 <li>Spring Data JPA gi√∫p thao t√°c v·ªõi c∆° s·ªü d·ªØ li·ªáu ƒë∆°n gi·∫£n th√¥ng qua ORM mapping.</li>
 <li>Repository cung c·∫•p s·∫µn CRUD API, h·∫°n ch·∫ø SQL th·ªß c√¥ng.</li>
 <li>MySQL ƒë∆∞·ª£c t√≠ch h·ª£p th√¥ng qua dependency v√† c·∫•u h√¨nh t·ª± ƒë·ªông.</li>
</ul>