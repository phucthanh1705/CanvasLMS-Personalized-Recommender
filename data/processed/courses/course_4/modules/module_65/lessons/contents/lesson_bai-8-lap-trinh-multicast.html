<h1>ğŸŒ BÃ€I 8 â€“ Láº¬P TRÃŒNH MULTICAST</h1><h2>8.1 Tá»”NG QUAN MULTICAST</h2><h3>8.1.1 Má»¥c Ä‘Ã­ch cá»§a Multicast</h3><p><b>Multicast</b> lÃ  ká»¹ thuáº­t truyá»n dá»¯ liá»‡u tá»« má»™t nguá»“n Ä‘áº¿n nhiá»u thiáº¿t bá»‹ trong nhÃ³m (group) mÃ  khÃ´ng cáº§n gá»­i riÃªng láº» Ä‘áº¿n tá»«ng host. NÃ³ tá»‘i Æ°u bÄƒng thÃ´ng so vá»›i Unicast.</p><p>ğŸ”¹ <b>Unicast</b>: má»™t gá»­i â€“ má»™t nháº­n.<br>ğŸ”¹ <b>Broadcast</b>: gá»­i Ä‘áº¿n táº¥t cáº£ host trong máº¡ng.<br>ğŸ”¹ <b>Multicast</b>: gá»­i Ä‘áº¿n nhÃ³m Ä‘Æ°á»£c chá»‰ Ä‘á»‹nh (Group Address).</p><p>ğŸ‘‰ á»¨ng dá»¥ng: truyá»n video trá»±c tuyáº¿n, game nhiá»u ngÆ°á»i chÆ¡i, há»™i nghá»‹ truyá»n hÃ¬nh, cáº­p nháº­t Ä‘á»“ng bá»™.</p><h3>8.1.2 Äá»‹a chá»‰ Multicast</h3><p>Äá»‹a chá»‰ IPv4 multicast náº±m trong dáº£i <b>224.0.0.0 â€“ 239.255.255.255</b>.</p><ul><li>224.0.0.x: Ä‘á»‹a chá»‰ cá»¥c bá»™ (Local Network).</li><li>224.0.1.x â€“ 238.x.x.x: pháº¡m vi Internet.</li><li>239.x.x.x: dÃ nh cho tá»• chá»©c ná»™i bá»™ (Private).</li></ul><pre><code>VÃ­ dá»¥: 224.0.0.1 â€“ táº¥t cáº£ host trong LAN.</code></pre><p>ğŸ’¡ Multicast hoáº¡t Ä‘á»™ng qua UDP, vÃ¬ UDP khÃ´ng cáº§n káº¿t ná»‘i vÃ  há»— trá»£ gá»­i gÃ³i tin Ä‘áº¿n nhiá»u ngÆ°á»i.</p><h3>8.1.3 Äá»‹nh tuyáº¿n Multicast</h3><p>Multicast sá»­ dá»¥ng cÆ¡ cháº¿ <b>IGMP (Internet Group Management Protocol)</b> Ä‘á»ƒ quáº£n lÃ½ thÃ nh viÃªn nhÃ³m. Router sáº½ lÆ°u danh sÃ¡ch host Ä‘ang tham gia group vÃ  chuyá»ƒn tiáº¿p gÃ³i tin Ä‘áº¿n Ä‘Ãºng máº¡ng con.</p><hr><h2>8.2 KIá»‚U Dá»® LIá»†U MULTICASTSOCKET</h2><p>Java cung cáº¥p lá»›p <code>MulticastSocket</code> káº¿ thá»«a tá»« <code>DatagramSocket</code> Ä‘á»ƒ gá»­i/nháº­n gÃ³i tin multicast.</p><ul><li>Cho phÃ©p tham gia hoáº·c rá»i nhÃ³m multicast.</li><li>Há»— trá»£ TTL (Time To Live) Ä‘á»ƒ giá»›i háº¡n pháº¡m vi truyá»n gÃ³i tin.</li></ul><pre><code>MulticastSocket socket = new MulticastSocket(5000);
InetAddress group = InetAddress.getByName("230.0.0.1");
socket.joinGroup(group);</code></pre><hr><h2>8.3 CÃC BÆ¯á»šC Láº¬P TRÃŒNH MULTICAST</h2><h3>8.3.1 CÃ¡c bÆ°á»›c Ä‘á»ƒ gá»­i gÃ³i dá»¯ liá»‡u Multicast</h3><ol><li>Táº¡o <code>MulticastSocket</code>.</li><li>Chá»n Ä‘á»‹a chá»‰ multicast vÃ  cá»•ng gá»­i.</li><li>Táº¡o gÃ³i dá»¯ liá»‡u <code>DatagramPacket</code>.</li><li>Gá»i <code>send()</code> Ä‘á»ƒ gá»­i Ä‘áº¿n group.</li></ol><pre><code>import java.net.*;

public class MulticastSender {
    public static void main(String[] args) throws Exception {
        MulticastSocket socket = new MulticastSocket();
        InetAddress group = InetAddress.getByName("230.0.0.1");
        String msg = "Xin chÃ o má»i ngÆ°á»i trong nhÃ³m!";
        DatagramPacket packet = new DatagramPacket(msg.getBytes(), msg.length(), group, 5000);
        socket.send(packet);
        socket.close();
        System.out.println("ğŸ“¤ ÄÃ£ gá»­i gÃ³i multicast!");
    }
}</code></pre><h3>8.3.2 CÃ¡c bÆ°á»›c Ä‘á»ƒ nháº­n gÃ³i Multicast</h3><ol><li>Táº¡o <code>MulticastSocket</code> táº¡i cá»•ng nháº­n.</li><li>Tham gia nhÃ³m báº±ng <code>joinGroup()</code>.</li><li>DÃ¹ng <code>receive()</code> Ä‘á»ƒ nháº­n gÃ³i tin.</li></ol><pre><code>import java.net.*;

public class MulticastReceiver {
    public static void main(String[] args) throws Exception {
        MulticastSocket socket = new MulticastSocket(5000);
        InetAddress group = InetAddress.getByName("230.0.0.1");
        socket.joinGroup(group);

        byte[] buf = new byte[1024];
        DatagramPacket packet = new DatagramPacket(buf, buf.length);

        System.out.println("ğŸ‘‚ Äang chá» gÃ³i Multicast...");
        socket.receive(packet);

        String msg = new String(packet.getData(), 0, packet.getLength());
        System.out.println("ğŸ“© Nháº­n Ä‘Æ°á»£c: " + msg);

        socket.leaveGroup(group);
        socket.close();
    }
}</code></pre><p>âš ï¸ Náº¿u nhiá»u chÆ°Æ¡ng trÃ¬nh cÃ¹ng join vÃ o cÃ¹ng Ä‘á»‹a chá»‰ multicast, táº¥t cáº£ Ä‘á»u nháº­n Ä‘Æ°á»£c báº£n sao cá»§a gÃ³i tin.</p><hr><h2>âœ… Tá»”NG Káº¾T</h2><ul><li>Multicast cho phÃ©p gá»­i dá»¯ liá»‡u Ä‘áº¿n nhiá»u host trong cÃ¹ng nhÃ³m máº¡ng.</li><li>Sá»­ dá»¥ng <code>MulticastSocket</code> vÃ  <code>DatagramPacket</code>.</li><li>PhÃ¹ há»£p cho á»©ng dá»¥ng thÃ´ng bÃ¡o, há»™i nghá»‹, truyá»n dá»¯ liá»‡u theo nhÃ³m.</li><li>Cáº§n quáº£n lÃ½ TTL vÃ  tham gia/thoÃ¡t nhÃ³m Ä‘Ãºng cÃ¡ch Ä‘á»ƒ trÃ¡nh broadcast quÃ¡ rá»™ng.</li></ul>