<h1>ğŸ§© BÃ€I 04 â€“ DELEGATE VÃ€ EVENT</h1><h2>ğŸ¯ Má»¥c tiÃªu há»c táº­p</h2><ul>  <li>Hiá»ƒu khÃ¡i niá»‡m Delegate vÃ  cÃ¡ch sá»­ dá»¥ng trong láº­p trÃ¬nh C#.</li>  <li>Náº¯m vá»¯ng nguyÃªn lÃ½ Event-driven Programming.</li>  <li>PhÃ¢n biá»‡t Delegate Ä‘Æ¡n, Multicast Delegate vÃ  Anonymous Delegate.</li>  <li>Biáº¿t cÃ¡ch Ä‘á»‹nh nghÄ©a vÃ  kÃ­ch hoáº¡t sá»± kiá»‡n (Event) trong class.</li>  <li>Thá»±c hÃ nh xÃ¢y dá»±ng mÃ´ hÃ¬nh Publisherâ€“Subscriber.</li></ul><hr><h2>1. Delegate lÃ  gÃ¬?</h2><p><b>Delegate</b> lÃ  kiá»ƒu dá»¯ liá»‡u tham chiáº¿u (reference type) Ä‘áº¡i diá»‡n cho má»™t phÆ°Æ¡ng thá»©c. Delegate cÃ³ thá»ƒ Ä‘Æ°á»£c truyá»n nhÆ° tham sá»‘, lÆ°u trá»¯ trong biáº¿n vÃ  gá»i Ä‘áº¿n phÆ°Æ¡ng thá»©c mÃ  nÃ³ trá» tá»›i.</p><pre><code>delegate void ThongBao(string msg);class Program {    static void GuiThongBao(string msg) {        Console.WriteLine($"ğŸ“¢ {msg}");    }    static void Main() {        ThongBao tb = new ThongBao(GuiThongBao);        tb("ChÃ o má»«ng Ä‘áº¿n vá»›i delegate!");    }}</code></pre><p><b>Output:</b> ğŸ“¢ ChÃ o má»«ng Ä‘áº¿n vá»›i delegate!</p><hr><h2>2. Multicast Delegate</h2><p>Delegate cÃ³ thá»ƒ trá» Ä‘áº¿n nhiá»u phÆ°Æ¡ng thá»©c cÃ¹ng lÃºc.</p><pre><code>delegate void XuLy();class Test {    static void A() =&gt; Console.WriteLine("A");    static void B() =&gt; Console.WriteLine("B");    static void Main() {        XuLy xl = A;        xl += B; // multicast delegate        xl();    }}</code></pre><p><b>Output:</b> A â†µ B</p><hr><h2>3. Anonymous Delegate vÃ  Lambda Expression</h2><p>Delegate cÃ³ thá»ƒ Ä‘Æ°á»£c khai bÃ¡o áº©n danh báº±ng tá»« khÃ³a <b>delegate</b> hoáº·c lambda expression.</p><pre><code>Action&lt;string&gt; xinChao = delegate(string name) {    Console.WriteLine($"Xin chÃ o {name}");};// Dáº¡ng lambdaAction&lt;string&gt; chao = name =&gt; Console.WriteLine($"Hello {name}");xinChao("Minh");chao("Lan");</code></pre><hr><h2>4. Event â€“ Sá»± kiá»‡n trong C#</h2><p><b>Event</b> lÃ  cÆ¡ cháº¿ cho phÃ©p Ä‘á»‘i tÆ°á»£ng phÃ¡t ra tÃ­n hiá»‡u khi má»™t hÃ nh Ä‘á»™ng xáº£y ra, vÃ  Ä‘á»‘i tÆ°á»£ng khÃ¡c cÃ³ thá»ƒ láº¯ng nghe Ä‘á»ƒ pháº£n á»©ng láº¡i.</p><pre><code>delegate void BaoDongHandler(string msg);class CamBien {    public event BaoDongHandler KhiPhatHien;    public void PhatHienChuyenDong() {        KhiPhatHien?.Invoke("PhÃ¡t hiá»‡n chuyá»ƒn Ä‘á»™ng!");    }}class NhaThongMinh {    static void Main() {        CamBien c = new CamBien();        c.KhiPhatHien += msg =&gt; Console.WriteLine($"ğŸš¨ BÃ¡o Ä‘á»™ng: {msg}");        c.PhatHienChuyenDong();    }}</code></pre><p><b>Output:</b> ğŸš¨ BÃ¡o Ä‘á»™ng: PhÃ¡t hiá»‡n chuyá»ƒn Ä‘á»™ng!</p><hr><h2>5. MÃ´ hÃ¬nh Publisher â€“ Subscriber</h2><p><b>Publisher</b> phÃ¡t ra sá»± kiá»‡n, <b>Subscriber</b> Ä‘Äƒng kÃ½ (subscribe) Ä‘á»ƒ láº¯ng nghe sá»± kiá»‡n Ä‘Ã³.</p><pre><code>public class TinNhanEventArgs : EventArgs {    public string NoiDung { get; set; }}public class NguoiGui {    public event EventHandler&lt;TinNhanEventArgs&gt; GuiTinNhan;    public void Gui(string msg) {        GuiTinNhan?.Invoke(this, new TinNhanEventArgs { NoiDung = msg });    }}public class NguoiNhan {    public void NhanTin(object sender, TinNhanEventArgs e) {        Console.WriteLine($"Tin nháº­n Ä‘Æ°á»£c: {e.NoiDung}");    }}class Demo {    static void Main() {        NguoiGui ng = new NguoiGui();        NguoiNhan nn = new NguoiNhan();        ng.GuiTinNhan += nn.NhanTin;        ng.Gui("Hello tá»« Publisher!");    }}</code></pre><p><b>Output:</b> Tin nháº­n Ä‘Æ°á»£c: Hello tá»« Publisher!</p><hr><h2>6. EventHandler vÃ  EventArgs</h2><p>Trong .NET, event thÆ°á»ng dÃ¹ng cáº·p <code>EventHandler</code> vÃ  <code>EventArgs</code> Ä‘á»ƒ chuáº©n hÃ³a Ä‘á»‹nh nghÄ©a sá»± kiá»‡n.</p><hr><h2>ğŸ§  BÃ i táº­p thá»±c hÃ nh</h2><ol>  <li>Viáº¿t chÆ°Æ¡ng trÃ¬nh sá»­ dá»¥ng delegate Ä‘á»ƒ thá»±c hiá»‡n phÃ©p cá»™ng, trá»«, nhÃ¢n, chia.</li>  <li>Viáº¿t chÆ°Æ¡ng trÃ¬nh mÃ´ phá»ng há»‡ thá»‘ng bÃ¡o chÃ¡y dÃ¹ng event (Publisherâ€“Subscriber).</li>  <li>Viáº¿t vÃ­ dá»¥ multicast delegate gá»i nhiá»u phÆ°Æ¡ng thá»©c xá»­ lÃ½ sá»± kiá»‡n.</li>  <li>DÃ¹ng anonymous delegate Ä‘á»ƒ in danh sÃ¡ch tÃªn sinh viÃªn.</li></ol><hr><h2>âœ… Tá»•ng káº¿t</h2><ul>  <li>Delegate lÃ  kiá»ƒu Ä‘áº¡i diá»‡n cho phÆ°Æ¡ng thá»©c, giÃºp láº­p trÃ¬nh hÆ°á»›ng sá»± kiá»‡n linh hoáº¡t.</li>  <li>Event lÃ  cÃ´ng cá»¥ giao tiáº¿p giá»¯a cÃ¡c Ä‘á»‘i tÆ°á»£ng (observer pattern).</li>  <li>Multicast Delegate giÃºp gá»i nhiá»u hÃ m cÃ¹ng lÃºc.</li>  <li>EventHandler vÃ  EventArgs chuáº©n hÃ³a viá»‡c truyá»n dá»¯ liá»‡u giá»¯a cÃ¡c Ä‘á»‘i tÆ°á»£ng.</li></ul>