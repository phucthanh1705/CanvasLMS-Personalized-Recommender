<h1>๐งฉ BรI 4 โ RรNG BUแปC TOรN VแบธN (CONSTRAINTS)</h1><h2>๐ฏ Mแปฅc tiรชu hแปc tแบญp</h2><ul><li>Hiแปu ฤฦฐแปฃc khรกi niแปm vร vai trรฒ cแปงa rรng buแปc toรn vแบนn trong cฦก sแป dแปฏ liแปu.</li><li>Phรขn biแปt ฤฦฐแปฃc cรกc loแบกi rรng buแปc: toรn vแบนn thแปฑc thแป, toรn vแบนn tham chiแบฟu vร rรng buแปc ngฦฐแปi dรนng.</li><li>Vแบญn dแปฅng cรกc cรขu lแปnh SQL ฤแป ฤแปnh nghฤฉa rรng buแปc trong bแบฃng.</li><li>Kiแปm soรกt vร ฤแบฃm bแบฃo tรญnh nhแบฅt quรกn dแปฏ liแปu trong hแป thแปng thแปฑc tแบฟ.</li></ul><hr><h2>1. KHรI NIแปM RรNG BUแปC TOรN VแบธN</h2><p>Rรng buแปc toรn vแบนn (Integrity Constraint) lร cรกc quy tแบฏc ฤฦฐแปฃc รกp dแปฅng lรชn dแปฏ liแปu ฤแป ฤแบฃm bแบฃo tรญnh hแปฃp lแป, chรญnh xรกc vร nhแบฅt quรกn cแปงa cฦก sแป dแปฏ liแปu. Mแปฅc tiรชu lร ngฤn chแบทn cรกc dแปฏ liแปu sai logic hoแบทc vi phแบกm quan hแป giแปฏa cรกc bแบฃng.</p><hr><h2>2. CรC LOแบI RรNG BUแปC TOรN VแบธN</h2><h3>2.1 Toรn vแบนn thแปฑc thแป (Entity Integrity)</h3><p>ฤแบฃm bแบฃo rแบฑng mแปi bแบฃn ghi trong bแบฃng ฤฦฐแปฃc xรกc ฤแปnh duy nhแบฅt bแบฑng khรณa chรญnh (Primary Key). Khรดng cho phรฉp giรก trแป NULL trong khรณa chรญnh.</p><pre><code>CREATE TABLE SINHVIEN ( MaSV CHAR(5) PRIMARY KEY, TenSV NVARCHAR(50), Diem FLOAT );</code></pre><h3>2.2 Toรn vแบนn tham chiแบฟu (Referential Integrity)</h3><p>ฤแบฃm bแบฃo rแบฑng giรก trแป cแปงa khรณa ngoแบกi (Foreign Key) phแบฃi tแปn tแบกi trong bแบฃng cha ฤฦฐแปฃc tham chiแบฟu. Nแบฟu bแบฃng cha thay ฤแปi hoแบทc xรณa dแปฏ liแปu, hแป thแปng sแบฝ kiแปm soรกt hรnh vi theo quy tแบฏc ON DELETE hoแบทc ON UPDATE.</p><pre><code>CREATE TABLE DIEM ( MaSV CHAR(5) REFERENCES SINHVIEN(MaSV), Diem FLOAT );</code></pre><h3>2.3 Rรng buแปc ngฦฐแปi dรนng (User-defined Integrity)</h3><p>Cho phรฉp ฤแปnh nghฤฉa cรกc ฤiแปu kiแปn tรนy chแปnh bแบฑng CHECK, DEFAULT, UNIQUE, NOT NULL.</p><ul><li><b>NOT NULL:</b> Khรดng cho phรฉp giรก trแป NULL.</li><li><b>UNIQUE:</b> ฤแบฃm bแบฃo giรก trแป trong cแปt lร duy nhแบฅt.</li><li><b>CHECK:</b> Kiแปm tra giรก trแป theo ฤiแปu kiแปn logic.</li><li><b>DEFAULT:</b> Cung cแบฅp giรก trแป mแบทc ฤแปnh khi khรดng nhแบญp dแปฏ liแปu.</li></ul><pre><code>CREATE TABLE MONHOC ( MaMH CHAR(5) PRIMARY KEY, TenMH NVARCHAR(50) NOT NULL, SoTinChi INT CHECK(SoTinChi BETWEEN 1 AND 5), TrangThai NVARCHAR(20) DEFAULT 'Hoแบกt ฤแปng' );</code></pre><hr><h2>3. QUแบขN Lร Vร THAY ฤแปI RรNG BUแปC</h2><ul><li>Dรนng ALTER TABLE ฤแป thรชm, sแปญa hoแบทc xรณa constraint.</li><li>Hแป thแปng cรณ thแป tแปฑ ฤแปng tแบกo tรชn constraint hoแบทc ngฦฐแปi dรนng chแป ฤแปnh thแปง cรดng.</li></ul><pre><code>ALTER TABLE SINHVIEN ADD CONSTRAINT FK_SV_Lop FOREIGN KEY (MaLop) REFERENCES LOP(MaLop);</code></pre><hr><h2>4. Cฦ CHแบพ DUY TRร TOรN VแบธN</h2><p>Hแป quแบฃn trแป CSDL tแปฑ ฤแปng kiแปm tra rรng buแปc khi thแปฑc hiแปn INSERT, UPDATE, DELETE. Nแบฟu dแปฏ liแปu vi phแบกm, hแป thแปng sแบฝ tแปซ chแปi giao dแปch vร thรดng bรกo lแปi ฤแป ฤแบฃm bแบฃo toรn vแบนn dแปฏ liแปu.</p><hr><h2>โ TแปNG KแบพT</h2><ul><li>Rรng buแปc toรn vแบนn lร cรดng cแปฅ quan trแปng ฤแป duy trรฌ tรญnh ฤรบng ฤแบฏn vร แปn ฤแปnh cแปงa dแปฏ liแปu.</li><li>Khรณa chรญnh, khรณa ngoแบกi, vร cรกc constraint CHECK, UNIQUE, NOT NULL, DEFAULT giรบp ngฤn ngแปซa dแปฏ liแปu sai logic.</li><li>DBMS tแปฑ ฤแปng kiแปm tra vร tแปซ chแปi cรกc thao tรกc lรm mแบฅt tรญnh toรn vแบนn.</li></ul>