{
  "id": "lesson_bai-01-cac-giai-doan-trong-qua-trinh-thiet-ke-mot-csdl",
  "title": "lesson_bai-01-cac-giai-doan-trong-qua-trinh-thiet-ke-mot-csdl",
  "body": "<h1>ğŸ§© BÃ€I 01 â€“ CÃC GIAI ÄOáº N TRONG QUÃ TRÃŒNH THIáº¾T Káº¾ Má»˜T CSDL</h1><h2>ğŸ¯ Má»¥c tiÃªu há»c táº­p</h2><ul><li>HÃ¬nh thÃ nh tÆ° duy tá»•ng thá»ƒ vá» vÃ²ng Ä‘á»i thiáº¿t káº¿ â€“ triá»ƒn khai â€“ váº­n hÃ nh má»™t CSDL doanh nghiá»‡p.</li><li>Nháº­n diá»‡n Ä‘Ãºng deliverables (tÃ i liá»‡u bÃ n giao) á»Ÿ tá»«ng giai Ä‘oáº¡n, tiÃªu chÃ­ Ä‘Ã¡nh giÃ¡ cháº¥t lÆ°á»£ng vÃ  rá»§i ro thÆ°á»ng gáº·p.</li><li>PhÃ¢n biá»‡t cÃ¡c cÃ¡ch tiáº¿p cáº­n (topâ€“down, bottomâ€“up, insideâ€“out) vÃ  khi nÃ o Ã¡p dá»¥ng.</li><li>XÃ¢y dá»±ng ma tráº­n yÃªu cáº§u â†’ mÃ´ hÃ¬nh khÃ¡i niá»‡m â†’ mÃ´ hÃ¬nh logic â†’ mÃ´ hÃ¬nh váº­t lÃ½, cÃ³ chiáº¿n lÆ°á»£c kiá»ƒm soÃ¡t thay Ä‘á»•i vÃ  kiá»ƒm thá»­ dá»¯ liá»‡u.</li></ul><hr><h2>1. DáºªN NHáº¬P</h2><p>Thiáº¿t káº¿ CSDL lÃ  quÃ¡ trÃ¬nh chuyá»ƒn <b>yÃªu cáº§u nghiá»‡p vá»¥</b> thÃ nh <b>lÆ°á»£c Ä‘á»“ dá»¯ liá»‡u</b> cÃ³ kháº£ nÄƒng má»Ÿ rá»™ng, toÃ n váº¹n vÃ  hiá»‡u nÄƒng. Má»™t thiáº¿t káº¿ tá»‘t pháº£i cÃ¢n báº±ng giá»¯a <i>tÃ­nh Ä‘Ãºng Ä‘áº¯n</i> (correctness), <i>tÃ­nh linh hoáº¡t</i> (flexibility), <i>hiá»‡u nÄƒng</i> (performance) vÃ  <i>kháº£ nÄƒng váº­n hÃ nh</i> (operability).</p><p>Ba trá»¥ cá»™t chi phá»‘i má»i quyáº¿t Ä‘á»‹nh thiáº¿t káº¿: <b>ToÃ n váº¹n</b> (integrity), <b>TÃ­nh nháº¥t quÃ¡n</b> (consistency), <b>Hiá»‡u nÄƒng</b> (throughput/latency). CÃ¡c rÃ ng buá»™c thá»±c táº¿ gá»“m quy mÃ´ dá»¯ liá»‡u, táº§n suáº¥t giao dá»‹ch, yÃªu cáº§u bÃ¡o cÃ¡o, SLA sao lÆ°uâ€“phá»¥c há»“i, ngÃ¢n sÃ¡ch pháº§n cá»©ng.</p><hr><h2>2. Má»¤C TIÃŠU CHÃNH CÃ”NG VIá»†C THIáº¾T Káº¾ CSDL</h2><ul><li><b>ÄÃºng nghiá»‡p vá»¥:</b> cáº¥u trÃºc dá»¯ liá»‡u pháº£n Ã¡nh chÃ­nh xÃ¡c thá»±c thá»ƒ, quan há»‡, rÃ ng buá»™c vÃ  quy táº¯c kinh doanh.</li><li><b>ToÃ n váº¹n &amp; an toÃ n:</b> sá»­ dá»¥ng khÃ³a, rÃ ng buá»™c tham chiáº¿u, CHECK, UNIQUE, trigger há»£p lÃ½; báº£o máº­t dá»±a trÃªn role vÃ  phÃ¢n vÃ¹ng dá»¯ liá»‡u nháº¡y cáº£m.</li><li><b>Hiá»‡u nÄƒng &amp; kháº£ nÄƒng má»Ÿ rá»™ng:</b> chuáº©n hÃ³a Ä‘áº¿n 3NF/BCNF káº¿t há»£p giáº£i chuáº©n (denormalization) cÃ³ kiá»ƒm soÃ¡t; chá»‰ má»¥c, partition, materialized view, caching.</li><li><b>Váº­n hÃ nh &amp; phá»¥c há»“i:</b> káº¿ hoáº¡ch backup/log shipping/point-in-time, chiáº¿n lÆ°á»£c migration vÃ  kiá»ƒm soÃ¡t thay Ä‘á»•i schema (versioned schema, migration script).</li><li><b>Kháº£ dá»¥ng &amp; quan sÃ¡t:</b> giÃ¡m sÃ¡t khÃ³a/IO, thá»‘ng kÃª (statistics), káº¿ hoáº¡ch truy váº¥n (query plan), alert ngÆ°á»¡ng.</li></ul><hr><h2>3. CÃC CÃ‚U Há»I Äáº¶T RA CHO NGÆ¯á»œI THIáº¾T Káº¾</h2><ul><li>Miá»n nghiá»‡p vá»¥ lÃ  gÃ¬? Nhá»¯ng thá»±c thá»ƒ cá»‘t lÃµi (customer, order, productâ€¦) vÃ  quan há»‡ Nâ€“N nÃ o báº¯t buá»™c?</li><li>Khá»‘i lÆ°á»£ng &amp; tÄƒng trÆ°á»Ÿng dá»¯ liá»‡u (GBâ†’TB), RPS giao dá»‹ch, kiá»ƒu truy váº¥n chá»§ Ä‘áº¡o (OLTP vs OLAP)?</li><li>Quy táº¯c toÃ n váº¹n nÃ o á»Ÿ má»©c dá»¯ liá»‡u báº¯t buá»™c rÃ ng buá»™c cá»©ng (constraint) thay vÃ¬ á»Ÿ á»©ng dá»¥ng?</li><li>YÃªu cáº§u bÃ¡o cÃ¡o thá»i gian thá»±c hay theo lÃ´? Cáº§n snapshot/materialized view/warehouse?</li><li>SLA RPO/RTO lÃ  bao nhiÃªu? Chiáº¿n lÆ°á»£c backup, phÃ¢n vÃ¹ng, lÆ°u trá»¯ nhiá»u khu vá»±c?</li><li>TuÃ¢n thá»§ phÃ¡p lÃ½ (PII/GDPR/PCI)? Cáº§n masking, encryption (TDE/column-level), audit trail?</li></ul><hr><h2>4. THÃ”NG TIN VÃ€O/RA Cá»¦A QUY TRÃŒNH THIáº¾T Káº¾</h2><h3>4.1 Äáº§u vÃ o</h3><ul><li>TÃ i liá»‡u yÃªu cáº§u nghiá»‡p vá»¥ (BRD, user stories, use cases, luá»“ng nghiá»‡p vá»¥ BPMN).</li><li>Dá»¯ liá»‡u hiá»‡n há»¯u: máº«u dá»¯ liá»‡u, tá»« Ä‘iá»ƒn dá»¯ liá»‡u, sÆ¡ Ä‘á»“ ER cÅ©, cháº¥t lÆ°á»£ng dá»¯ liá»‡u (missing/duplicates/outliers).</li><li>RÃ ng buá»™c phi chá»©c nÄƒng: hiá»‡u nÄƒng, báº£o máº­t, HA/DR, chi phÃ­, cÃ´ng nghá»‡ DB (PostgreSQL, SQL Serverâ€¦).</li></ul><h3>4.2 Äáº§u ra theo giai Ä‘oáº¡n</h3><ul><li><b>MÃ´ hÃ¬nh khÃ¡i niá»‡m (Conceptual/ERD):</b> thá»±c thá»ƒ, thuá»™c tÃ­nh, bá»™i sá»‘ (cardinality), rÃ ng buá»™c nghiá»‡p vá»¥.</li><li><b>MÃ´ hÃ¬nh logic (Logical):</b> lÆ°á»£c Ä‘á»“ quan há»‡, khÃ³a, phá»¥ thuá»™c hÃ m, dáº¡ng chuáº©n, view logic.</li><li><b>MÃ´ hÃ¬nh váº­t lÃ½ (Physical):</b> kiá»ƒu dá»¯ liá»‡u cá»¥ thá»ƒ, index, partition, tablespace/filegroup, storage policy.</li><li><b>TÃ i liá»‡u váº­n hÃ nh:</b> tiÃªu chuáº©n Ä‘áº·t tÃªn, chiáº¿n lÆ°á»£c indexing, plan backup/restore, migration pipeline, test plan, data quality rules.</li></ul><hr><h2>5. CHU Ká»² Sá»NG Cá»¦A Má»˜T CSDL</h2><ol><li><b>PhÃ¢n tÃ­ch nhu cáº§u (Requirements Analysis):</b> phá»ng váº¥n, workshop, khÃ¡m phÃ¡ thá»±c thá»ƒâ€“quan há»‡, baseline cháº¥t lÆ°á»£ng dá»¯ liá»‡u.</li><li><b>Thiáº¿t káº¿ quan niá»‡m (Conceptual Design):</b> ERD Ä‘á»™c láº­p ná»n táº£ng; quyáº¿t Ä‘á»‹nh ranh giá»›i ngá»¯ nghÄ©a, bá»™i sá»‘ (1â€“N, Nâ€“N), tá»•ng quÃ¡t hÃ³a/Ä‘áº·c thÃ¹ hÃ³a.</li><li><b>Thiáº¿t káº¿ logic (Logical Design):</b> Ã¡nh xáº¡ ERâ†’quan há»‡; xÃ¡c Ä‘á»‹nh khÃ³a, phá»¥ thuá»™c hÃ m, chuáº©n hÃ³a 1NFâ†’3NF/BCNF; thiáº¿t káº¿ view bÃ¡o cÃ¡o.</li><li><b>Thiáº¿t káº¿ váº­t lÃ½ (Physical Design):</b> chá»n kiá»ƒu dá»¯ liá»‡u, index (clustered/non-clustered, composite), partition (range/hash/list), storage layout; báº£o máº­t vÃ  mÃ£ hÃ³a.</li><li><b>Triá»ƒn khai &amp; náº¡p dá»¯ liá»‡u (Build &amp; Load):</b> schema migration cÃ³ version; ETL/ELT, kiá»ƒm thá»­ tÃ­nh toÃ n váº¹n, performance baseline.</li><li><b>Váº­n hÃ nh &amp; tá»‘i Æ°u (Operate &amp; Tune):</b> theo dÃµi thá»‘ng kÃª, plan cache, lock wait, I/O, autovacuum/maintenance; refactor index, archiving.</li><li><b>Tiáº¿n hÃ³a &amp; ngá»«ng khai thÃ¡c:</b> quáº£n trá»‹ thay Ä‘á»•i (blue/green, backwards compatible migration), sunset dá»¯ liá»‡u, tuÃ¢n thá»§ retention.</li></ol><hr><h2>6. CÃCH TIáº¾P Cáº¬N THIáº¾T Káº¾</h2><ul><li><b>Topâ€“down:</b> tá»« nghiá»‡p vá»¥ â†’ khÃ¡i niá»‡m â†’ logic â†’ váº­t lÃ½. PhÃ¹ há»£p há»‡ thá»‘ng má»›i, yÃªu cáº§u rÃµ.</li><li><b>Bottomâ€“up:</b> tá»« nguá»“n dá»¯ liá»‡u sáºµn cÃ³ â†’ gom nhÃ³m thá»±c thá»ƒ â†’ há»£p nháº¥t. Há»¯u Ã­ch khi pháº£i tÃ­ch há»£p di sáº£n.</li><li><b>Insideâ€“out:</b> xÃ¡c Ä‘á»‹nh vÃ i thá»±c thá»ƒ lÃµi (core) cÃ³ Ä‘á»™ cháº¯c cháº¯n cao rá»“i má»Ÿ rá»™ng dáº§n. DÃ¹ng trong dá»± Ã¡n yÃªu cáº§u biáº¿n Ä‘á»™ng.</li></ul><hr><h2>7. TIÃŠU CHÃ ÄÃNH GIÃ CHáº¤T LÆ¯á»¢NG THIáº¾T Káº¾</h2><ul><li><b>ÄÃºng &amp; Ä‘áº§y Ä‘á»§:</b> bao phá»§ 100% use case Æ°u tiÃªn; khÃ´ng mÃ¢u thuáº«n rÃ ng buá»™c.</li><li><b>Chuáº©n hÃ³a há»£p lÃ½:</b> tá»‘i thiá»ƒu 3NF/BCNF cho OLTP; giáº£i chuáº©n cÃ³ cÆ¡ sá»Ÿ Ä‘o lÆ°á»ng.</li><li><b>Hiá»‡u nÄƒng Ä‘o Ä‘Æ°á»£c:</b> p95/p99 latency truy váº¥n chÃ­nh; chá»‰ má»¥c chá»n lá»c cao; káº¿ hoáº¡ch truy váº¥n á»•n Ä‘á»‹nh.</li><li><b>Báº£o máº­t &amp; tuÃ¢n thá»§:</b> phÃ¢n quyá»n theo role, tÃ¡ch dá»¯ liá»‡u nháº¡y cáº£m, audit.</li><li><b>Kháº£ váº­n hÃ nh:</b> script migration idempotent, backup/restore kiá»ƒm thá»­ Ä‘á»‹nh ká»³, tÃ i liá»‡u hÃ³a tá»« Ä‘iá»ƒn dá»¯ liá»‡u.</li></ul><hr><h2>8. MáºªU DELIVERABLES</h2><pre><code>01-context: domain map, glossary<br>02-conceptual: ERD (Crow's Foot), business rules<br>03-logical: relational schema, FDs, normalization proof<br>04-physical: DDL script, index/partition plan, security model<br>05-operations: backup/restore runbook, monitoring checklist<br>06-migration: versioned scripts, rollback plan, data quality checks</code></pre><hr><h2>âœ… TÃ“M Táº®T</h2><ul><li>Thiáº¿t káº¿ CSDL lÃ  chuá»—i hoáº¡t Ä‘á»™ng láº·p â€“ má»—i bÆ°á»›c cÃ³ deliverables rÃµ rÃ ng.</li><li>ThÃ nh cÃ´ng = Ä‘Ãºng nghiá»‡p vá»¥ + toÃ n váº¹n + hiá»‡u nÄƒng + váº­n hÃ nh tá»‘t.</li><li>Chá»n cÃ¡ch tiáº¿p cáº­n vÃ  má»©c chuáº©n hÃ³a dá»±a trÃªn dá»¯ liá»‡u, truy váº¥n vÃ  SLA cá»¥ thá»ƒ; má»i quyáº¿t Ä‘á»‹nh tá»‘i Æ°u cáº§n kÃ¨m tiÃªu chÃ­ Ä‘o lÆ°á»ng.</li></ul><hr><h2>ğŸ“ Phá»¥ lá»¥c: Checklist nhanh</h2><ul><li>ÄÃ£ ghi nháº­n phá»¥ thuá»™c hÃ m &amp; rÃ ng buá»™c nghiá»‡p vá»¥ quan trá»ng?</li><li>ÄÃ£ xÃ¡c Ä‘á»‹nh khÃ³a chÃ­nh/phá»¥ &amp; chiáº¿n lÆ°á»£c index cho truy váº¥n top-k?</li><li>ÄÃ£ xÃ¡c Ä‘á»‹nh RPO/RTO, káº¿ hoáº¡ch PITR?</li><li>ÄÃ£ cÃ³ tá»« Ä‘iá»ƒn dá»¯ liá»‡u, naming convention vÃ  migration versioning?</li></ul>",
  "updated_at": null
}