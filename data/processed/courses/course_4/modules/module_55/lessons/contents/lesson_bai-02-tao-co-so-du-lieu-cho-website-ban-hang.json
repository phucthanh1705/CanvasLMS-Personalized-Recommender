{
  "id": "lesson_bai-02-tao-co-so-du-lieu-cho-website-ban-hang",
  "title": "lesson_bai-02-tao-co-so-du-lieu-cho-website-ban-hang",
  "body": "<h1>üß© B√ÄI 02 ‚Äì T·∫†O C∆† S·ªû D·ªÆ LI·ªÜU CHO WEBSITE B√ÅN H√ÄNG (SPRING DATA JPA + MYSQL)</h1>\n\n<h2>üéØ M·ª•c ti√™u h·ªçc t·∫≠p</h2>\n<ul>\n <li>Hi·ªÉu kh√°i ni·ªám ORM (Object Relational Mapping) v√† c∆° ch·∫ø ho·∫°t ƒë·ªông c·ªßa Spring Data JPA.</li>\n <li>C√†i ƒë·∫∑t v√† c·∫•u h√¨nh k·∫øt n·ªëi MySQL cho ·ª©ng d·ª•ng Spring Boot.</li>\n <li>Thi·∫øt k·∫ø m√¥ h√¨nh d·ªØ li·ªáu v√† √°nh x·∫° entity ‚Äì table (mapping annotation).</li>\n <li>Th·ª±c h√†nh thao t√°c CRUD d·ªØ li·ªáu b·∫±ng JPA Repository.</li>\n</ul>\n<hr>\n\n<h2>1. Gi·ªõi thi·ªáu Spring Data JPA</h2>\n<p><b>Spring Data JPA</b> l√† module h·ªó tr·ª£ thao t√°c c∆° s·ªü d·ªØ li·ªáu theo m√¥ h√¨nh ORM (Object-Relational Mapping), gi√∫p l·∫≠p tr√¨nh vi√™n l√†m vi·ªác v·ªõi entity Java thay v√¨ c√¢u l·ªánh SQL thu·∫ßn.</p>\n<p><b>∆Øu ƒëi·ªÉm:</b></p>\n<ul>\n <li>Gi·∫£m thi·ªÉu code JDBC th·ªß c√¥ng (Connection, Statement).</li>\n <li>H·ªó tr·ª£ transaction t·ª± ƒë·ªông v√† lazy loading.</li>\n <li>D·ªÖ m·ªü r·ªông v√† t√≠ch h·ª£p v·ªõi Hibernate.</li>\n</ul>\n<p><b>Spring Boot</b> t·ª± ƒë·ªông c·∫•u h√¨nh Hibernate l√†m JPA provider m·∫∑c ƒë·ªãnh.</p>\n<hr>\n\n<h2>2. C·∫•u h√¨nh k·∫øt n·ªëi c∆° s·ªü d·ªØ li·ªáu MySQL</h2>\n<p>Th√™m dependency v√†o t·ªáp <code>pom.xml</code>:</p>\n<pre><code>&lt;dependency&gt;\n &lt;groupId&gt;mysql&lt;/groupId&gt;\n &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n&lt;/dependency&gt;</code></pre>\n<p>C·∫•u h√¨nh trong <code>application.properties</code>:</p>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/shopdb\nspring.datasource.username=root\nspring.datasource.password=\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect</code></pre>\n<p>L·ªánh t·∫°o database trong MySQL:</p>\n<pre><code>CREATE DATABASE shopdb CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;</code></pre>\n<hr>\n\n<h2>3. Thi·∫øt k·∫ø m√¥ h√¨nh d·ªØ li·ªáu</h2>\n<p>Thi·∫øt k·∫ø h·ªá th·ªëng b√°n h√†ng g·ªìm c√°c b·∫£ng ch√≠nh:</p>\n<ul>\n <li><b>Product</b> ‚Äì l∆∞u th√¥ng tin s·∫£n ph·∫©m.</li>\n <li><b>Category</b> ‚Äì nh√≥m s·∫£n ph·∫©m.</li>\n <li><b>Order</b> ‚Äì ƒë∆°n h√†ng c·ªßa kh√°ch.</li>\n <li><b>OrderDetail</b> ‚Äì chi ti·∫øt s·∫£n ph·∫©m trong ƒë∆°n h√†ng.</li>\n</ul>\n<p><b>V√≠ d·ª• class Product.java</b>:</p>\n<pre><code>package com.example.shop.model;\n\nimport jakarta.persistence.*;\n\n@Entity\n@Table(name = \"products\")\npublic class Product {\n @Id\n @GeneratedValue(strategy = GenerationType.IDENTITY)\n private Long id;\n\n @Column(nullable = false, length = 100)\n private String name;\n\n private Double price;\n\n @Column(length = 255)\n private String description;\n\n @ManyToOne\n @JoinColumn(name = \"category_id\")\n private Category category;\n\n // getters &amp; setters\n}</code></pre>\n<p><b>V√≠ d·ª• class Category.java</b>:</p>\n<pre><code>@Entity\n@Table(name = \"categories\")\npublic class Category {\n @Id\n @GeneratedValue(strategy = GenerationType.IDENTITY)\n private Long id;\n\n private String name;\n\n @OneToMany(mappedBy = \"category\")\n private List&lt;Product&gt; products;\n}</code></pre>\n<hr>\n\n<h2>4. Repository ‚Äì CRUD b·∫±ng JPA</h2>\n<p>T·∫°o repository interface k·∫ø th·ª´a <code>JpaRepository</code>:</p>\n<pre><code>package com.example.shop.repository;\n\nimport com.example.shop.model.Product;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface ProductRepository extends JpaRepository&lt;Product, Long&gt; {\n List&lt;Product&gt; findByCategoryName(String categoryName);\n}</code></pre>\n<p>Spring Boot t·ª± ƒë·ªông sinh ra c√°c ph∆∞∆°ng th·ª©c CRUD (save, findAll, findById, deleteById, ‚Ä¶).</p>\n<hr>\n\n<h2>5. Service v√† Controller</h2>\n<p>T·∫°o l·ªõp Service x·ª≠ l√Ω logic nghi·ªáp v·ª•:</p>\n<pre><code>@Service\npublic class ProductService {\n @Autowired\n private ProductRepository productRepo;\n\n public List&lt;Product&gt; getAll() {\n return productRepo.findAll();\n }\n\n public void save(Product p) {\n productRepo.save(p);\n }\n}</code></pre>\n<p>Controller g·ªçi service ƒë·ªÉ hi·ªÉn th·ªã danh s√°ch s·∫£n ph·∫©m:</p>\n<pre><code>@Controller\npublic class ProductController {\n @Autowired\n private ProductService service;\n\n @GetMapping(\"/products\")\n public String list(Model model) {\n model.addAttribute(\"list\", service.getAll());\n return \"product-list\";\n }\n}</code></pre>\n<hr>\n\n<h2>6. Th·ª±c h√†nh</h2>\n<ul>\n <li>T·∫°o database <code>shopdb</code> v√† 4 entity: Product, Category, Order, OrderDetail.</li>\n <li>T·∫°o repository t∆∞∆°ng ·ª©ng v√† test ph∆∞∆°ng th·ª©c CRUD.</li>\n <li>Th√™m trang <code>product-list.html</code> hi·ªÉn th·ªã danh s√°ch s·∫£n ph·∫©m t·ª´ DB.</li>\n</ul>\n<hr>\n\n<h2>‚úÖ T·ªïng k·∫øt</h2>\n<ul>\n <li>Spring Data JPA gi√∫p thao t√°c v·ªõi c∆° s·ªü d·ªØ li·ªáu ƒë∆°n gi·∫£n th√¥ng qua ORM mapping.</li>\n <li>Repository cung c·∫•p s·∫µn CRUD API, h·∫°n ch·∫ø SQL th·ªß c√¥ng.</li>\n <li>MySQL ƒë∆∞·ª£c t√≠ch h·ª£p th√¥ng qua dependency v√† c·∫•u h√¨nh t·ª± ƒë·ªông.</li>\n</ul>",
  "updated_at": null
}