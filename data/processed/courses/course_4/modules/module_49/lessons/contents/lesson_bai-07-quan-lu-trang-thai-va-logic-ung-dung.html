<h1>üß© B√ÄI 07 ‚Äì QU·∫¢N L√ù TR·∫†NG TH√ÅI V√Ä LOGIC ·ª®NG D·ª§NG</h1><h2>üéØ M·ª•c ti√™u h·ªçc t·∫≠p</h2><ul>  <li>Hi·ªÉu kh√°i ni·ªám <b>tr·∫°ng th√°i (state)</b> v√† vai tr√≤ c·ªßa n√≥ trong ·ª©ng d·ª•ng Flutter.</li>  <li>Ph√¢n bi·ªát c√°c d·∫°ng state: Stateless, Stateful, Global State.</li>  <li>Hi·ªÉu v√† √°p d·ª•ng c√°c m√¥ h√¨nh qu·∫£n l√Ω tr·∫°ng th√°i: <b>setState</b>, <b>Provider</b>, <b>Bloc</b>, <b>GetX</b>.</li>  <li>X√¢y d·ª±ng ·ª©ng d·ª•ng m·∫´u v·ªõi Provider v√† Bloc.</li>  <li>T·ªï ch·ª©c logic ·ª©ng d·ª•ng t√°ch bi·ªát v·ªõi giao di·ªán (MVVM/MVC).</li></ul><hr><h2>1. Gi·ªõi thi·ªáu v·ªÅ State trong Flutter</h2><p><b>State</b> l√† d·ªØ li·ªáu ho·∫∑c gi√° tr·ªã c√≥ th·ªÉ thay ƒë·ªïi trong su·ªët v√≤ng ƒë·ªùi ·ª©ng d·ª•ng. Khi state thay ƒë·ªïi, UI s·∫Ω ƒë∆∞·ª£c v·∫Ω l·∫°i (rebuild).</p><p>C√≥ 2 lo·∫°i state ch√≠nh:</p><ul>  <li><b>Local State:</b> ch·ªâ ·∫£nh h∆∞·ªüng trong ph·∫°m vi m·ªôt widget.</li>  <li><b>Global State:</b> ·∫£nh h∆∞·ªüng ƒë·∫øn to√†n b·ªô ·ª©ng d·ª•ng.</li></ul><hr><h2>2. Qu·∫£n l√Ω tr·∫°ng th√°i c∆° b·∫£n v·ªõi setState()</h2><p>Ph∆∞∆°ng th·ª©c <code>setState()</code> ƒë∆∞·ª£c s·ª≠ d·ª•ng trong StatefulWidget ƒë·ªÉ c·∫≠p nh·∫≠t UI khi d·ªØ li·ªáu thay ƒë·ªïi.</p><pre><code>class CounterApp extends StatefulWidget {  const CounterApp({super.key});  @override  State createState() =&gt; _CounterAppState();}class _CounterAppState extends State {  int count = 0;  void increment() {    setState(() {      count++;    });  }  @override  Widget build(BuildContext context) {    return Scaffold(      appBar: AppBar(title: const Text('Counter')),      body: Center(child: Text('Gi√° tr·ªã: $count', style: const TextStyle(fontSize: 24))),      floatingActionButton: FloatingActionButton(        onPressed: increment,        child: const Icon(Icons.add),      ),    );  }}</code></pre><hr><h2>3. Qu·∫£n l√Ω tr·∫°ng th√°i n√¢ng cao v·ªõi Provider</h2><p><b>Provider</b> l√† m·ªôt g√≥i m·∫°nh m·∫Ω ƒë·ªÉ chia s·∫ª state gi·ªØa nhi·ªÅu widget m√† kh√¥ng c·∫ßn truy·ªÅn tham s·ªë th·ªß c√¥ng.</p><pre><code>import 'package:provider/provider.dart';class Counter with ChangeNotifier {  int _count = 0;  int get count =&gt; _count;  void increment() {    _count++;    notifyListeners();  }}void main() {  runApp(ChangeNotifierProvider(    create: (_) =&gt; Counter(),    child: const MyApp(),  ));}</code></pre><p>Trong widget con:</p><pre><code>final counter = Provider.of(context);Text('Gi√° tr·ªã: ${counter.count}');</code></pre><hr><h2>4. M√¥ h√¨nh Bloc (Business Logic Component)</h2><p><b>Bloc</b> gi√∫p t√°ch bi·ªát logic (business) kh·ªèi giao di·ªán b·∫±ng c√°ch d√πng Stream v√† Event.</p><pre><code>import 'dart:async';class CounterBloc {  int _count = 0;  final _controller = StreamController.broadcast();  Stream get stream =&gt; _controller.stream;  void increment() {    _count++;    _controller.sink.add(_count);  }  void dispose() {    _controller.close();  }}</code></pre><p>Bloc ƒë·∫∑c bi·ªát ph√π h·ª£p v·ªõi ·ª©ng d·ª•ng l·ªõn ho·∫∑c nhi·ªÅu lu·ªìng d·ªØ li·ªáu song song.</p><hr><h2>5. Qu·∫£n l√Ω tr·∫°ng th√°i b·∫±ng GetX</h2><p><b>GetX</b> l√† framework ƒëa nƒÉng h·ªó tr·ª£ routing, dependency injection v√† state management ƒë∆°n gi·∫£n.</p><pre><code>import 'package:get/get.dart';class CounterController extends GetxController {  var count = 0.obs;  void increment() =&gt; count++;}void main() {  runApp(GetMaterialApp(home: CounterPage()));}class CounterPage extends StatelessWidget {  final controller = Get.put(CounterController());  @override  Widget build(BuildContext context) {    return Scaffold(      appBar: AppBar(title: Text('GetX Counter')),      body: Center(child: Obx(() =&gt; Text('Gi√° tr·ªã: ${controller.count}'))),      floatingActionButton: FloatingActionButton(        onPressed: controller.increment,        child: Icon(Icons.add),      ),    );  }}</code></pre><hr><h2>6. So s√°nh c√°c m√¥ h√¨nh qu·∫£n l√Ω tr·∫°ng th√°i</h2><table border="1" cellpadding="6"><thead><tr><th>Ph∆∞∆°ng ph√°p</th><th>∆Øu ƒëi·ªÉm</th><th>Nh∆∞·ª£c ƒëi·ªÉm</th></tr></thead><tbody><tr><td>setState</td><td>ƒê∆°n gi·∫£n, d·ªÖ d√πng</td><td>Kh√¥ng ph√π h·ª£p cho ·ª©ng d·ª•ng l·ªõn</td></tr><tr><td>Provider</td><td>D·ªÖ m·ªü r·ªông, code g·ªçn g√†ng</td><td>Ph·∫£i h·ªçc c√∫ ph√°p ChangeNotifier</td></tr><tr><td>Bloc</td><td>T√°ch bi·ªát logic v√† UI r√µ r√†ng</td><td>C·∫ßn hi·ªÉu Stream</td></tr><tr><td>GetX</td><td>G·ªçn, m·∫°nh, d·ªÖ qu·∫£n l√Ω</td><td>C√≥ th·ªÉ ph·ª• thu·ªôc framework</td></tr></tbody></table><hr><h2>7. Ki·∫øn tr√∫c logic ·ª©ng d·ª•ng</h2><p>Flutter th∆∞·ªùng d√πng m√¥ h√¨nh <b>MVVM</b> ho·∫∑c <b>MVC</b> ƒë·ªÉ t√°ch logic (ViewModel/Controller) kh·ªèi giao di·ªán (View).</p><pre><code>lib/‚îú‚îÄ‚îÄ models/      ‚Üí l·ªõp d·ªØ li·ªáu‚îú‚îÄ‚îÄ views/       ‚Üí giao di·ªán UI‚îú‚îÄ‚îÄ controllers/ ‚Üí logic ·ª©ng d·ª•ng</code></pre><hr><h2>üß† B√†i t·∫≠p th·ª±c h√†nh</h2><ol>  <li>T·∫°o ·ª©ng d·ª•ng ƒë·∫øm s·ªë v·ªõi Provider.</li>  <li>X√¢y d·ª±ng app ToDo v·ªõi Bloc qu·∫£n l√Ω danh s√°ch c√¥ng vi·ªác.</li>  <li>D√πng GetX ƒë·ªÉ ƒëi·ªÅu khi·ªÉn b·ªô ƒë·∫øm v√† chuy·ªÉn trang.</li>  <li>So s√°nh hi·ªáu nƒÉng gi·ªØa setState v√† Provider.</li></ol><hr><h2>‚úÖ T·ªïng k·∫øt</h2><ul>  <li>Tr·∫°ng th√°i quy·∫øt ƒë·ªãnh d·ªØ li·ªáu hi·ªÉn th·ªã c·ªßa ·ª©ng d·ª•ng.</li>  <li>Provider, Bloc, GetX l√† ba h∆∞·ªõng ph·ªï bi·∫øn v√† m·∫°nh m·∫Ω nh·∫•t.</li>  <li>Ph√¢n t√°ch logic v√† giao di·ªán gi√∫p d·ªÖ b·∫£o tr√¨ v√† m·ªü r·ªông.</li></ul>