{
  "id": "lesson_bai-10-mot-so-kien-thuc-nang-cao",
  "title": "lesson_bai-10-mot-so-kien-thuc-nang-cao",
  "body": "<h1>üìô B√ÄI 10 ‚Äì M·ªòT S·ªê KI·∫æN TH·ª®C N√ÇNG CAO</h1><h2>üéØ M·ª•c ti√™u h·ªçc t·∫≠p</h2><ul><li>Hi·ªÉu c√°c kh√°i ni·ªám n√¢ng cao trong qu·∫£n tr·ªã c∆° s·ªü d·ªØ li·ªáu nh∆∞ con tr·ªè (cursor), m√£ h√≥a d·ªØ li·ªáu, v√† b·∫£o m·∫≠t ng∆∞·ªùi d√πng.</li><li>Bi·∫øt c√°ch s·ª≠ d·ª•ng con tr·ªè ƒë·ªÉ x·ª≠ l√Ω d·ªØ li·ªáu t·ª´ng d√≤ng.</li><li>N·∫Øm ƒë∆∞·ª£c c∆° ch·∫ø m√£ h√≥a d·ªØ li·ªáu trong SQL Server nh·∫±m tƒÉng t√≠nh an to√†n.</li><li>Hi·ªÉu c√°c ph∆∞∆°ng ph√°p b·∫£o m·∫≠t, ph√¢n quy·ªÅn v√† qu·∫£n tr·ªã hi·ªáu nƒÉng h·ªá th·ªëng CSDL.</li></ul><hr><h2>10.1 CON TR·ªé (CURSOR)</h2><p><b>Cursor</b> l√† m·ªôt c∆° ch·∫ø cho ph√©p duy·ªát qua t·ª´ng d√≤ng d·ªØ li·ªáu trong t·∫≠p k·∫øt qu·∫£ truy v·∫•n. N√≥ ƒë∆∞·ª£c s·ª≠ d·ª•ng khi c·∫ßn thao t√°c t·ª´ng b·∫£n ghi ri√™ng bi·ªát thay v√¨ x·ª≠ l√Ω to√†n b·ªô t·∫≠p d·ªØ li·ªáu c√πng l√∫c.</p><h3>10.1.1 C√∫ ph√°p khai b√°o v√† s·ª≠ d·ª•ng Cursor</h3><pre>DECLARE TenCursor CURSOR FOR<br>SELECT MaSV, Diem FROM KetQua;<br>OPEN TenCursor;<br>FETCH NEXT FROM TenCursor INTO @MaSV, @Diem;<br>WHILE @@FETCH_STATUS = 0<br>BEGIN<br>    PRINT @MaSV + ' - ' + CAST(@Diem AS NVARCHAR(10));<br>    FETCH NEXT FROM TenCursor INTO @MaSV, @Diem;<br>END;<br>CLOSE TenCursor;<br>DEALLOCATE TenCursor;</pre><p><b>L∆∞u √Ω:</b> Cursor gi√∫p x·ª≠ l√Ω logic ph·ª©c t·∫°p nh∆∞ng l√†m gi·∫£m hi·ªáu nƒÉng khi thao t√°c v·ªõi t·∫≠p d·ªØ li·ªáu l·ªõn.</p><hr><h2>10.2 M√É H√ìA D·ªÆ LI·ªÜU (DATA ENCRYPTION)</h2><h3>10.2.1 Kh√°i ni·ªám</h3><p>M√£ h√≥a d·ªØ li·ªáu l√† qu√° tr√¨nh chuy·ªÉn ƒë·ªïi th√¥ng tin g·ªëc th√†nh d·∫°ng kh√¥ng th·ªÉ ƒë·ªçc ƒë∆∞·ª£c n·∫øu kh√¥ng c√≥ kh√≥a gi·∫£i m√£, gi√∫p b·∫£o v·ªá d·ªØ li·ªáu nh·∫°y c·∫£m nh∆∞ m·∫≠t kh·∫©u, s·ªë t√†i kho·∫£n, ho·∫∑c th√¥ng tin c√° nh√¢n.</p><h3>10.2.2 C√°c h√¨nh th·ª©c m√£ h√≥a trong SQL Server</h3><ul><li><b>Column Encryption:</b> M√£ h√≥a t·ª´ng c·ªôt d·ªØ li·ªáu c·ª• th·ªÉ.</li><li><b>Transparent Data Encryption (TDE):</b> M√£ h√≥a to√†n b·ªô c∆° s·ªü d·ªØ li·ªáu ·ªü c·∫•p ƒë·ªô file v·∫≠t l√Ω.</li><li><b>Always Encrypted:</b> M√£ h√≥a d·ªØ li·ªáu ngay t·ª´ ph√≠a client, kh√¥ng ai (k·ªÉ c·∫£ DBA) ƒë·ªçc ƒë∆∞·ª£c d·ªØ li·ªáu g·ªëc.</li></ul><h3>10.2.3 V√≠ d·ª• m√£ h√≥a b·∫±ng h√†m</h3><pre>-- M√£ h√≥a v√† gi·∫£i m√£ b·∫±ng h√†m built-in<br>SELECT EncryptByPassPhrase('KeyDemo','Hello World');<br>SELECT CONVERT(varchar, DecryptByPassPhrase('KeyDemo', ));</pre><hr><h2>10.3 B·∫¢O M·∫¨T V√Ä PH√ÇN QUY·ªÄN</h2><h3>10.3.1 Kh√°i ni·ªám</h3><p>Ph√¢n quy·ªÅn trong c∆° s·ªü d·ªØ li·ªáu gi√∫p ƒë·∫£m b·∫£o r·∫±ng m·ªói ng∆∞·ªùi d√πng ch·ªâ ƒë∆∞·ª£c ph√©p th·ª±c hi·ªán nh·ªØng thao t√°c c·∫ßn thi·∫øt, tr√°nh truy c·∫≠p tr√°i ph√©p ho·∫∑c ph√° ho·∫°i d·ªØ li·ªáu.</p><h3>10.3.2 C√°c lo·∫°i quy·ªÅn trong SQL Server</h3><ul><li><b>GRANT:</b> C·∫•p quy·ªÅn cho ng∆∞·ªùi d√πng.</li><li><b>REVOKE:</b> Thu h·ªìi quy·ªÅn ƒë√£ c·∫•p.</li><li><b>DENY:</b> T·ª´ ch·ªëi quy·ªÅn, k·ªÉ c·∫£ khi ƒë∆∞·ª£c k·∫ø th·ª´a t·ª´ nh√≥m ng∆∞·ªùi d√πng.</li></ul><h3>10.3.3 V√≠ d·ª• ph√¢n quy·ªÅn</h3><pre>GRANT SELECT, INSERT ON SinhVien TO UserA;<br>DENY DELETE ON SinhVien TO UserA;</pre><h3>10.3.4 Qu·∫£n l√Ω ng∆∞·ªùi d√πng v√† vai tr√≤</h3><p>Ng∆∞·ªùi qu·∫£n tr·ªã c√≥ th·ªÉ t·∫°o <b>Role</b> (vai tr√≤) ƒë·ªÉ gom nh√≥m quy·ªÅn cho nhi·ªÅu ng∆∞·ªùi d√πng:</p><pre>CREATE ROLE Role_QLSV;<br>GRANT SELECT, UPDATE ON SinhVien TO Role_QLSV;<br>EXEC sp_addrolemember 'Role_QLSV', 'UserA';</pre><hr><h2>10.4 GI√ÅM S√ÅT V√Ä T·ªêI ∆ØU HI·ªÜU NƒÇNG</h2><ul><li>S·ª≠ d·ª•ng c√¥ng c·ª• <b>SQL Profiler</b> ƒë·ªÉ theo d√µi truy v·∫•n ch·∫°y ch·∫≠m.</li><li>Ph√¢n t√≠ch k·∫ø ho·∫°ch th·ª±c thi (Execution Plan) ƒë·ªÉ ph√°t hi·ªán ƒëi·ªÉm ngh·∫Ωn hi·ªáu nƒÉng.</li><li>T·ªëi ∆∞u ch·ªâ m·ª•c (Index), tr√°nh s·ª≠ d·ª•ng Cursor n·∫øu c√≥ th·ªÉ.</li><li>D·ªçn d·∫πp log v√† t√°i t·ªï ch·ª©c b·∫£ng ƒë·ªãnh k·ª≥.</li></ul><hr><h2>‚úÖ Ghi nh·ªõ nhanh</h2><ul><li>Cursor d√πng ƒë·ªÉ x·ª≠ l√Ω t·ª´ng d√≤ng d·ªØ li·ªáu nh∆∞ng c√≥ th·ªÉ ch·∫≠m.</li><li>M√£ h√≥a gi√∫p b·∫£o v·ªá d·ªØ li·ªáu nh·∫°y c·∫£m kh·ªèi truy c·∫≠p tr√°i ph√©p.</li><li>Ph√¢n quy·ªÅn gi√∫p ki·ªÉm so√°t ng∆∞·ªùi d√πng hi·ªáu qu·∫£.</li><li>Gi√°m s√°t v√† t·ªëi ∆∞u h√≥a gi√∫p ƒë·∫£m b·∫£o hi·ªáu nƒÉng l√¢u d√†i cho h·ªá th·ªëng.</li></ul>",
  "updated_at": null
}